---
title: Azure 和 Azure Stack Hub 中的混合式應用程式設計考量
description: 了解為智慧型雲端和智慧邊緣建置混合式應用程式時的設計考量，包括放置、延展性、可用性和復原能力。
author: BryanLa
ms.topic: article
ms.date: 06/07/2020
ms.author: bryanla
ms.reviewer: anajod
ms.lastreviewed: 11/05/2019
ms.openlocfilehash: 8b975c7b99807490d446f557e84b6e0eabf34649
ms.sourcegitcommit: 485a1f97fa1579364e2be1755cadfc5ea89db50e
ms.translationtype: HT
ms.contentlocale: zh-TW
ms.lasthandoff: 10/08/2020
ms.locfileid: "91852485"
---
# <a name="hybrid-app-design-considerations"></a><span data-ttu-id="d634a-103">混合式應用程式設計考量</span><span class="sxs-lookup"><span data-stu-id="d634a-103">Hybrid app design considerations</span></span>

<span data-ttu-id="d634a-104">Microsoft Azure 是唯一的一致性混合式雲端。</span><span class="sxs-lookup"><span data-stu-id="d634a-104">Microsoft Azure is the only consistent hybrid cloud.</span></span> <span data-ttu-id="d634a-105">其可讓您重複運用您的開發投資，並且讓應用程式能夠跨越全域 Azure、Azure 主權雲端和 Azure Stack (此為資料中心的 Azure 延伸模組之一)。</span><span class="sxs-lookup"><span data-stu-id="d634a-105">It allows you to reuse your development investments and enables apps that can span global Azure, the sovereign Azure clouds, and Azure Stack, which is an extension of Azure in your datacenter.</span></span> <span data-ttu-id="d634a-106">跨雲端應用程式也稱為*混合式應用程式*。</span><span class="sxs-lookup"><span data-stu-id="d634a-106">Apps that span clouds are also referred to as *hybrid apps*.</span></span>

<span data-ttu-id="d634a-107">[*Azure 應用程式架構指南*](/azure/architecture/guide)說明設定可擴充、可復原和高可用性應用程式的結構化方法。</span><span class="sxs-lookup"><span data-stu-id="d634a-107">The [*Azure Application Architecture Guide*](/azure/architecture/guide) describes a structured approach for designing apps that are scalable, resilient, and highly available.</span></span> <span data-ttu-id="d634a-108">[*Azure 應用程式架構指南*](/azure/architecture/guide)中說明的考量事項，同樣適用於針對單一雲端而設計的應用程式和跨雲端的應用程式。</span><span class="sxs-lookup"><span data-stu-id="d634a-108">The considerations described in the [*Azure Application Architecture Guide*](/azure/architecture/guide) equally apply to apps that are designed for a single cloud and for apps that span clouds.</span></span>

<span data-ttu-id="d634a-109">本文增補了 [*Azure 應用程式*](/azure/architecture/guide/) [*架構指南*](/azure/architecture/guide/)中討論的[*軟體品質的要素*](/azure/architecture/guide/pillars)，主要著重於設計混合式應用程式的說明。</span><span class="sxs-lookup"><span data-stu-id="d634a-109">This article augments the [*Pillars of software quality*](/azure/architecture/guide/pillars) discussed in the [*Azure Application*](/azure/architecture/guide/) [*Architecture Guide*,](/azure/architecture/guide/) focusing specifically on designing hybrid apps.</span></span> <span data-ttu-id="d634a-110">此外，我們也新增了*位置*要素，因為混合式應用程式並非專屬於一個雲端或一個內部部署資料中心。</span><span class="sxs-lookup"><span data-stu-id="d634a-110">In addition, we add a *placement* pillar as hybrid apps aren't exclusive to one cloud or one on-premises datacenter.</span></span>

<span data-ttu-id="d634a-111">混合式案例依開發時可使用的資源而有很大的差異，可供程式開發，同時需一併考量像是地理位置、安全性、網際網路存取權，以及其他因素。</span><span class="sxs-lookup"><span data-stu-id="d634a-111">Hybrid scenarios vary greatly with the resources that are available for development, and span considerations such as geography, security, internet access, and other considerations.</span></span> <span data-ttu-id="d634a-112">雖然本指南無法列舉您特有的考量，但可提供一些重要的指導方針和最佳做法供您依循。</span><span class="sxs-lookup"><span data-stu-id="d634a-112">Although this guide can't enumerate your specific considerations, it can provide some key guidelines and best practices for you to follow.</span></span> <span data-ttu-id="d634a-113">要成功設計、設定、部署和維護混合式應用程式架構，牽涉到許多可能不為您所熟知的設計考量。</span><span class="sxs-lookup"><span data-stu-id="d634a-113">Successfully designing, configuring, deploying, and maintaining a hybrid app architecture involves many design considerations that might not be inherently known to you.</span></span>

<span data-ttu-id="d634a-114">本文件將彙總在執行混合式應用程式時可能發生的問題，並提供相關考量事項 (這些要素) 和最佳做法來加以處理。</span><span class="sxs-lookup"><span data-stu-id="d634a-114">This document aims to aggregate the possible questions that might arise when implementing hybrid apps and provides considerations (these pillars) and best practices to work with them.</span></span> <span data-ttu-id="d634a-115">藉由在設計階段解決這些問題，將可避免其在生產環境中可能造成的問題。</span><span class="sxs-lookup"><span data-stu-id="d634a-115">By addressing these questions during the design phase, you'll avoid the issues they could cause in production.</span></span>

<span data-ttu-id="d634a-116">基本上，這些都是您在建立混合式應用程式之前必須考量的問題。</span><span class="sxs-lookup"><span data-stu-id="d634a-116">Essentially, these are questions you need to think about before creating a hybrid app.</span></span> <span data-ttu-id="d634a-117">若要開始，您必須執行下列動作：</span><span class="sxs-lookup"><span data-stu-id="d634a-117">To get started, you need to do the following things:</span></span>

- <span data-ttu-id="d634a-118">識別並評估應用程式元件。</span><span class="sxs-lookup"><span data-stu-id="d634a-118">Identify and evaluate the app components.</span></span>
- <span data-ttu-id="d634a-119">根據要素評估應用程式元件。</span><span class="sxs-lookup"><span data-stu-id="d634a-119">Evaluate app components against the pillars.</span></span>

## <a name="evaluate-the-app-components"></a><span data-ttu-id="d634a-120">評估應用程式元件</span><span class="sxs-lookup"><span data-stu-id="d634a-120">Evaluate the app components</span></span>

<span data-ttu-id="d634a-121">應用程式的每個元件在較大的應用程式內都有其本身的特定角色，且應使用所有設計考量來加以檢查。</span><span class="sxs-lookup"><span data-stu-id="d634a-121">Each component of an app has its own specific role within the larger app and should be reviewed with all design considerations.</span></span> <span data-ttu-id="d634a-122">每個元件的需求和功能都應符合這些考量，以利判斷應用程式架構。</span><span class="sxs-lookup"><span data-stu-id="d634a-122">Each component's requirements and features should map to these considerations to help determine the app architecture.</span></span>

<span data-ttu-id="d634a-123">您可以研究應用程式的架構並判斷其組成內容，藉以將應用程式分解成其元件。</span><span class="sxs-lookup"><span data-stu-id="d634a-123">Decompose your app into its components by studying your app's architecture and determining what it consists of.</span></span> <span data-ttu-id="d634a-124">元件也可以包含與您的應用程式互動的其他應用程式。</span><span class="sxs-lookup"><span data-stu-id="d634a-124">Components can also include other apps that your app interacts with.</span></span> <span data-ttu-id="d634a-125">當您識別元件時，請提出下列問題，以根據其特性評估您想要的混合式作業：</span><span class="sxs-lookup"><span data-stu-id="d634a-125">As you identify the components, evaluate your intended hybrid operations according to their characteristics by asking these questions:</span></span>

- <span data-ttu-id="d634a-126">元件的用途為何？</span><span class="sxs-lookup"><span data-stu-id="d634a-126">What is the purpose of the component?</span></span>
- <span data-ttu-id="d634a-127">元件之間有哪些相互依存性？</span><span class="sxs-lookup"><span data-stu-id="d634a-127">What are the interdependencies between the components?</span></span>

<span data-ttu-id="d634a-128">例如，應用程式可以有定義為兩個元件的前端和後端。</span><span class="sxs-lookup"><span data-stu-id="d634a-128">For example, an app can have a front end and back end defined as two components.</span></span> <span data-ttu-id="d634a-129">在混合式案例中，前端位於一個雲端中，後端則位於另一個雲端。</span><span class="sxs-lookup"><span data-stu-id="d634a-129">In a hybrid scenario, the front end is in one cloud and the back end is in the other.</span></span> <span data-ttu-id="d634a-130">應用程式可提供前端與使用者之間，以及前端與後端之間的通訊管道。</span><span class="sxs-lookup"><span data-stu-id="d634a-130">The app provides communication channels between the front end and the user, and also between the front end and the back end.</span></span>

<span data-ttu-id="d634a-131">應用程式元件由許多形式和案例所定義。</span><span class="sxs-lookup"><span data-stu-id="d634a-131">An app component is defined by many forms and scenarios.</span></span> <span data-ttu-id="d634a-132">最重要的工作是識別元件及其雲端或內部部署位置。</span><span class="sxs-lookup"><span data-stu-id="d634a-132">The most important task is identifying them and their cloud or on-premises location.</span></span>

<span data-ttu-id="d634a-133">表 1 列出要包含在清查中的常見應用程式元件。</span><span class="sxs-lookup"><span data-stu-id="d634a-133">The common app components to include in your inventory are listed in Table 1.</span></span>

### <a name="table-1-common-app-components"></a><span data-ttu-id="d634a-134">表 1.</span><span class="sxs-lookup"><span data-stu-id="d634a-134">Table 1.</span></span> <span data-ttu-id="d634a-135">常見應用程式元件</span><span class="sxs-lookup"><span data-stu-id="d634a-135">Common app components</span></span>

| <span data-ttu-id="d634a-136">**元件**</span><span class="sxs-lookup"><span data-stu-id="d634a-136">**Component**</span></span> | <span data-ttu-id="d634a-137">**混合式應用程式指引**</span><span class="sxs-lookup"><span data-stu-id="d634a-137">**Hybrid app guidance**</span></span> |
| ---- | ---- |
| <span data-ttu-id="d634a-138">用戶端連接</span><span class="sxs-lookup"><span data-stu-id="d634a-138">Client connections</span></span> | <span data-ttu-id="d634a-139">您的應用程式 (在任何裝置上) 可以從單一進入點用各種方式存取使用者，包括下列方式：</span><span class="sxs-lookup"><span data-stu-id="d634a-139">Your app (on any device) can access users in various ways, from a single-entry point, including the following ways:</span></span><br><span data-ttu-id="d634a-140">- 使用者必須安裝用戶端才能使用應用程式的用戶端伺服器模型。</span><span class="sxs-lookup"><span data-stu-id="d634a-140">-   A client-server model that requires the user to have a client installed to work with the app.</span></span> <span data-ttu-id="d634a-141">以伺服器為基礎、可從瀏覽器存取的應用程式。</span><span class="sxs-lookup"><span data-stu-id="d634a-141">A server-based app that's accessed from a browser.</span></span><br><span data-ttu-id="d634a-142">- 用戶端連線可以包含連線中斷時的通知，或可能適用漫遊費用時的警示。</span><span class="sxs-lookup"><span data-stu-id="d634a-142">-   Client connections can include notifications when the connection is broken or alerts when roaming charges may apply.</span></span> |
| <span data-ttu-id="d634a-143">驗證</span><span class="sxs-lookup"><span data-stu-id="d634a-143">Authentication</span></span>  | <span data-ttu-id="d634a-144">連線至應用程式的使用者，或從某個元件連線至另一個元件的使用者，都可能需要進行驗證。</span><span class="sxs-lookup"><span data-stu-id="d634a-144">Authentication can be required for a user connecting to the app, or from one component connecting to another.</span></span> |
| <span data-ttu-id="d634a-145">API</span><span class="sxs-lookup"><span data-stu-id="d634a-145">APIs</span></span>  | <span data-ttu-id="d634a-146">您可以讓開發人員以程式設計方式使用 API 集合和類別庫來存取您的應用程式，並根據網際網路標準提供連線介面。</span><span class="sxs-lookup"><span data-stu-id="d634a-146">You can provide developers with programmatic access to your app with API sets and class libraries and provide a connection interface based on internet standards.</span></span> <span data-ttu-id="d634a-147">您也可以使用 API 將應用程式分解成獨立運作的邏輯單元。</span><span class="sxs-lookup"><span data-stu-id="d634a-147">You can also use APIs to decompose an app into independently operating logical units.</span></span> |
| <span data-ttu-id="d634a-148">服務</span><span class="sxs-lookup"><span data-stu-id="d634a-148">Services</span></span>  | <span data-ttu-id="d634a-149">您可以使用簡單的服務來提供應用程式的功能。</span><span class="sxs-lookup"><span data-stu-id="d634a-149">You can employ succinct services to provide the features for an app.</span></span> <span data-ttu-id="d634a-150">此類服務可以是應用程式執行所在的引擎。</span><span class="sxs-lookup"><span data-stu-id="d634a-150">A service can be the engine that the app runs on.</span></span> |
| <span data-ttu-id="d634a-151">佇列</span><span class="sxs-lookup"><span data-stu-id="d634a-151">Queues</span></span> | <span data-ttu-id="d634a-152">您可以使用佇列來組織生命週期的狀態，以及應用程式元件的狀態。</span><span class="sxs-lookup"><span data-stu-id="d634a-152">You can use queues to organize the status of the life cycles and states of your app's components.</span></span> <span data-ttu-id="d634a-153">這些佇列可為訂閱者提供傳訊、通知和緩衝處理功能。</span><span class="sxs-lookup"><span data-stu-id="d634a-153">These queues can provide messaging, notifications, and buffering capabilities to subscribing parties.</span></span> |
| <span data-ttu-id="d634a-154">資料儲存體</span><span class="sxs-lookup"><span data-stu-id="d634a-154">Data storage</span></span> | <span data-ttu-id="d634a-155">應用程式可以是無狀態或具狀態的。</span><span class="sxs-lookup"><span data-stu-id="d634a-155">An app can be stateless or stateful.</span></span> <span data-ttu-id="d634a-156">具狀態應用程式需要多種格式和磁碟區皆可符合的資料儲存體。</span><span class="sxs-lookup"><span data-stu-id="d634a-156">Stateful apps need data storage that can be met by numerous formats and volumes.</span></span> |
| <span data-ttu-id="d634a-157">資料快取</span><span class="sxs-lookup"><span data-stu-id="d634a-157">Data caching</span></span>  | <span data-ttu-id="d634a-158">設計中的資料快取元件可以策略性地解決延遲問題，並扮演觸發雲端負載平衡的角色。</span><span class="sxs-lookup"><span data-stu-id="d634a-158">A data caching component in your design can strategically address latency issues and play a role in triggering cloud bursting.</span></span> |
| <span data-ttu-id="d634a-159">資料擷取</span><span class="sxs-lookup"><span data-stu-id="d634a-159">Data ingestion</span></span> | <span data-ttu-id="d634a-160">資料可透過許多方式提交至應用程式，舉凡 Web 表單中的使用者提交值，到持續性的大量資料流程，都包含在內。</span><span class="sxs-lookup"><span data-stu-id="d634a-160">Data can be submitted to an app in many ways, ranging from user-submitted values in a web form to continuously high-volume data flow.</span></span> |
| <span data-ttu-id="d634a-161">資料處理</span><span class="sxs-lookup"><span data-stu-id="d634a-161">Data processing</span></span> | <span data-ttu-id="d634a-162">您的資料處理工作 (例如報表、分析、批次匯出和資料轉換) 可以在來源處理，或使用資料複本在個別元件上卸載。</span><span class="sxs-lookup"><span data-stu-id="d634a-162">Your data processing tasks (such as reports, analytics, batch exports, and data transformation) can either be processed at the source or offloaded on a separate component using a copy of the data.</span></span> |

## <a name="assess-app-components-for-pillars"></a><span data-ttu-id="d634a-163">評估應用程式元件的要素</span><span class="sxs-lookup"><span data-stu-id="d634a-163">Assess app components for pillars</span></span>

<span data-ttu-id="d634a-164">針對每個元件，請評估其每個要素的特性。</span><span class="sxs-lookup"><span data-stu-id="d634a-164">For each component, evaluate its characteristics for each pillar.</span></span> <span data-ttu-id="d634a-165">當您評估每個元件的各項要素時，您可能得以認清某些未考量到的問題將對混合式應用程式的設計造成影響。</span><span class="sxs-lookup"><span data-stu-id="d634a-165">As you evaluate each component with all of the pillars, questions you might not have considered may become known to you that affect the design of the hybrid app.</span></span> <span data-ttu-id="d634a-166">進行這些考量有助於應用程式的最佳化。</span><span class="sxs-lookup"><span data-stu-id="d634a-166">Acting on these considerations could add value in optimizing your app.</span></span> <span data-ttu-id="d634a-167">表 2 說明每項要素與混合式應用程式的關聯性。</span><span class="sxs-lookup"><span data-stu-id="d634a-167">Table 2 provides a description of each pillar as it relates to hybrid apps.</span></span>

### <a name="table-2-pillars"></a><span data-ttu-id="d634a-168">表 2.</span><span class="sxs-lookup"><span data-stu-id="d634a-168">Table 2.</span></span> <span data-ttu-id="d634a-169">要素</span><span class="sxs-lookup"><span data-stu-id="d634a-169">Pillars</span></span>

| <span data-ttu-id="d634a-170">**要素**</span><span class="sxs-lookup"><span data-stu-id="d634a-170">**Pillar**</span></span> | <span data-ttu-id="d634a-171">**說明**</span><span class="sxs-lookup"><span data-stu-id="d634a-171">**Description**</span></span> |
| ----------- | --------------------------------------------------------- |
| <span data-ttu-id="d634a-172">放置</span><span class="sxs-lookup"><span data-stu-id="d634a-172">Placement</span></span>  | <span data-ttu-id="d634a-173">元件在混合式應用程式中的策略性定位。</span><span class="sxs-lookup"><span data-stu-id="d634a-173">The strategic positioning of components in hybrid apps.</span></span> |
| <span data-ttu-id="d634a-174">延展性</span><span class="sxs-lookup"><span data-stu-id="d634a-174">Scalability</span></span>  | <span data-ttu-id="d634a-175">系統處理負載增加的能力。</span><span class="sxs-lookup"><span data-stu-id="d634a-175">The ability of a system to handle increased load.</span></span> |
| <span data-ttu-id="d634a-176">可用性</span><span class="sxs-lookup"><span data-stu-id="d634a-176">Availability</span></span>  | <span data-ttu-id="d634a-177">混合式應用程式正常運作並執行作業的時間比例。</span><span class="sxs-lookup"><span data-stu-id="d634a-177">The proportion of time that a hybrid app is functional and working.</span></span> |
| <span data-ttu-id="d634a-178">災害復原</span><span class="sxs-lookup"><span data-stu-id="d634a-178">Resiliency</span></span> | <span data-ttu-id="d634a-179">混合式應用程式的復原能力。</span><span class="sxs-lookup"><span data-stu-id="d634a-179">The ability for a hybrid app to recover.</span></span> |
| <span data-ttu-id="d634a-180">管理能力</span><span class="sxs-lookup"><span data-stu-id="d634a-180">Manageability</span></span> | <span data-ttu-id="d634a-181">讓系統在生產環境中順利運作的作業流程。</span><span class="sxs-lookup"><span data-stu-id="d634a-181">Operations processes that keep a system running in production.</span></span> |
| <span data-ttu-id="d634a-182">安全性</span><span class="sxs-lookup"><span data-stu-id="d634a-182">Security</span></span> | <span data-ttu-id="d634a-183">保護混合式應用程式和資料，使其免於遭受威脅。</span><span class="sxs-lookup"><span data-stu-id="d634a-183">Protecting hybrid apps and data from threats.</span></span> |

## <a name="placement"></a><span data-ttu-id="d634a-184">放置</span><span class="sxs-lookup"><span data-stu-id="d634a-184">Placement</span></span>

<span data-ttu-id="d634a-185">混合式應用程式原本就有放置考量，例如對資料中心的考量。</span><span class="sxs-lookup"><span data-stu-id="d634a-185">A hybrid app inherently has a placement consideration, like for the datacenter.</span></span>

<span data-ttu-id="d634a-186">放置是定位元件的重要工作，藉此元件將可為混合式應用程式提供最佳服務。</span><span class="sxs-lookup"><span data-stu-id="d634a-186">Placement is the important task of positioning components so that they can best service a hybrid app.</span></span> <span data-ttu-id="d634a-187">根據定義，混合式應用程式會跨多個位置，例如從內部部署到雲端，以及在不同的雲端間。</span><span class="sxs-lookup"><span data-stu-id="d634a-187">By definition, hybrid apps span locations, like from on-premises to the cloud and among different clouds.</span></span> <span data-ttu-id="d634a-188">您可以透過兩種方式將應用程式的元件放置在雲端：</span><span class="sxs-lookup"><span data-stu-id="d634a-188">You can place components of the app on clouds in two ways:</span></span>

- <span data-ttu-id="d634a-189">**垂直混合式應用程式**</span><span class="sxs-lookup"><span data-stu-id="d634a-189">**Vertical hybrid apps**</span></span>  
    <span data-ttu-id="d634a-190">應用程式元件會分散到各個位置。</span><span class="sxs-lookup"><span data-stu-id="d634a-190">App components are distributed across locations.</span></span> <span data-ttu-id="d634a-191">每個個別元件可以有多個位於單一位置的執行個體。</span><span class="sxs-lookup"><span data-stu-id="d634a-191">Each individual component can have multiple instances located only in a single location.</span></span>

- <span data-ttu-id="d634a-192">**水平混合式應用程式**</span><span class="sxs-lookup"><span data-stu-id="d634a-192">**Horizontal hybrid apps**</span></span>  
    <span data-ttu-id="d634a-193">應用程式元件會分散到各個位置。</span><span class="sxs-lookup"><span data-stu-id="d634a-193">App components are distributed across locations.</span></span> <span data-ttu-id="d634a-194">每個個別元件可以有多個跨多個位置的執行個體。</span><span class="sxs-lookup"><span data-stu-id="d634a-194">Each individual component can have multiple instances spanning multiple locations.</span></span>

    <span data-ttu-id="d634a-195">有些元件可以辨識其位置，有些則完全無法辨識其位置和放置方式。</span><span class="sxs-lookup"><span data-stu-id="d634a-195">Some components can be aware of their location while others don't have any knowledge of their location and placement.</span></span> <span data-ttu-id="d634a-196">這種辨識力可透過抽象層來達成。</span><span class="sxs-lookup"><span data-stu-id="d634a-196">This virtuousness can be achieved with an abstraction layer.</span></span> <span data-ttu-id="d634a-197">此層具有新式應用程式架構 (例如微服務)，可定義在跨雲端的節點上運作的應用程式元件如何藉由放置為應用程式提供服務。</span><span class="sxs-lookup"><span data-stu-id="d634a-197">This layer, with a modern app framework like microservices, can define how the app is serviced by the placement of app components operating on nodes across clouds.</span></span>

### <a name="placement-checklist"></a><span data-ttu-id="d634a-198">放置檢查清單</span><span class="sxs-lookup"><span data-stu-id="d634a-198">Placement checklist</span></span>

<span data-ttu-id="d634a-199">**確認必要的位置。**</span><span class="sxs-lookup"><span data-stu-id="d634a-199">**Verify required locations.**</span></span> <span data-ttu-id="d634a-200">請確定應用程式或其任何元件必須在特定雲端中運作，或需要該雲端的認證。</span><span class="sxs-lookup"><span data-stu-id="d634a-200">Make sure the app or any of its components are required to operate in, or require certification for, a specific cloud.</span></span> <span data-ttu-id="d634a-201">這可能包括您的公司或法律規定的主權需求。</span><span class="sxs-lookup"><span data-stu-id="d634a-201">This can include sovereignty requirements from your company or dictated by law.</span></span> <span data-ttu-id="d634a-202">此外，請確認特定位置或地區設定是否需要任何內部部署作業。</span><span class="sxs-lookup"><span data-stu-id="d634a-202">Also, determine if any on-premises operations are required for a particular location or locale.</span></span>

<span data-ttu-id="d634a-203">**確定連線相依性。**</span><span class="sxs-lookup"><span data-stu-id="d634a-203">**Ascertain connectivity dependencies.**</span></span> <span data-ttu-id="d634a-204">必要的位置和其他因素可能會決定元件之間的連線相依性。</span><span class="sxs-lookup"><span data-stu-id="d634a-204">Required locations and other factors can dictate the connectivity dependencies among your components.</span></span> <span data-ttu-id="d634a-205">在放置元件時，請確認其間的通訊具有最佳連線能力和安全性。</span><span class="sxs-lookup"><span data-stu-id="d634a-205">As you place the components, determine the optimal connectivity and security for communication among them.</span></span> <span data-ttu-id="d634a-206">選項包括 [*VPN*](/azure/vpn-gateway/)、[*ExpressRoute*](/azure/expressroute/) 和[*混合式連線*](/azure/app-service/app-service-hybrid-connections)。</span><span class="sxs-lookup"><span data-stu-id="d634a-206">Choices include [*VPN*,](/azure/vpn-gateway/) [*ExpressRoute*,](/azure/expressroute/) and [*Hybrid Connections*.](/azure/app-service/app-service-hybrid-connections)</span></span>

<span data-ttu-id="d634a-207">**評估平台功能。**</span><span class="sxs-lookup"><span data-stu-id="d634a-207">**Evaluate platform capabilities.**</span></span> <span data-ttu-id="d634a-208">針對每個應用程式元件，請確認雲端上是否有應用程式元件所需的資源提供者，以及頻寬是否足以支應預期的輸送量和延遲需求。</span><span class="sxs-lookup"><span data-stu-id="d634a-208">For each app component, see if the required resource provider for the app component is available on the cloud and if the bandwidth can accommodate the expected throughput and latency requirements.</span></span>

<span data-ttu-id="d634a-209">**進行可攜性規劃。**</span><span class="sxs-lookup"><span data-stu-id="d634a-209">**Plan for portability.**</span></span> <span data-ttu-id="d634a-210">使用新式應用程式架構 (例如容器或微服務) 來規劃移動作業以及防止服務相依性。</span><span class="sxs-lookup"><span data-stu-id="d634a-210">Use modern app frameworks, like containers or microservices, to plan for moving operations and to prevent service dependencies.</span></span>

<span data-ttu-id="d634a-211">**判斷資料主權需求。**</span><span class="sxs-lookup"><span data-stu-id="d634a-211">**Determine data sovereignty requirements.**</span></span> <span data-ttu-id="d634a-212">混合式應用程式的設計可支援資料隔離，例如在本機資料中心。</span><span class="sxs-lookup"><span data-stu-id="d634a-212">Hybrid apps are geared for accommodating data isolation, such as on a local datacenter.</span></span> <span data-ttu-id="d634a-213">請檢查您的資源放置方式，以對此需求提供最高的支援性。</span><span class="sxs-lookup"><span data-stu-id="d634a-213">Review the placement of your resources to optimize the success for accommodating this requirement.</span></span>

<span data-ttu-id="d634a-214">**進行延遲規劃。**</span><span class="sxs-lookup"><span data-stu-id="d634a-214">**Plan for latency.**</span></span> <span data-ttu-id="d634a-215">雲端間的作業可能會使應用程式元件之間出現實際的距離。</span><span class="sxs-lookup"><span data-stu-id="d634a-215">Inter-cloud operations can introduce physical distance between the app components.</span></span> <span data-ttu-id="d634a-216">請確定因應任何延遲的需求。</span><span class="sxs-lookup"><span data-stu-id="d634a-216">Ascertain the requirements to accommodate any latency.</span></span>

<span data-ttu-id="d634a-217">**控制流量流程。**</span><span class="sxs-lookup"><span data-stu-id="d634a-217">**Control traffic flows.**</span></span> <span data-ttu-id="d634a-218">在公用雲端中的前端存取個人識別資訊資料時，請控制尖峰使用量，並確保該資料的傳輸方式適當且安全無虞。</span><span class="sxs-lookup"><span data-stu-id="d634a-218">Handle peak usage and the appropriate and secured communications for personal identifiable information data when accessed by the front end in a public cloud.</span></span>

## <a name="scalability"></a><span data-ttu-id="d634a-219">延展性</span><span class="sxs-lookup"><span data-stu-id="d634a-219">Scalability</span></span>

<span data-ttu-id="d634a-220">延展性是指系統對於應用程式負載增加的處理能力，此能力可能隨著其他因素和作用力而改變，且除了會影響應用程式的大小和範圍外，也會影響對象的大小。</span><span class="sxs-lookup"><span data-stu-id="d634a-220">Scalability is the ability of a system to handle increased load on an app, which can vary over time as other factors and forces affect the audience size, in addition to the size and scope of the app.</span></span>

<span data-ttu-id="d634a-221">如需此要素的核心討論，請參閱卓越架構五大要素中的[*延展性*](/azure/architecture/guide/pillars#scalability)。</span><span class="sxs-lookup"><span data-stu-id="d634a-221">For the core discussion of this pillar, see [*Scalability*](/azure/architecture/guide/pillars#scalability) in the five pillars of architecture excellence.</span></span>

<span data-ttu-id="d634a-222">混合式應用程式的水準調整方法可讓您新增更多執行個體以符合需求，然後在使用頻率較低時加以停用。</span><span class="sxs-lookup"><span data-stu-id="d634a-222">A horizontal scaling approach for hybrid apps allows for adding more instances to meet demand and then disabling them during quieter periods.</span></span>

<span data-ttu-id="d634a-223">在混合式案例中，當元件分散於各雲端時，要相應放大個別元件必須先做額外的考量。</span><span class="sxs-lookup"><span data-stu-id="d634a-223">In hybrid scenarios, scaling out individual components requires additional consideration when components are spread across clouds.</span></span> <span data-ttu-id="d634a-224">要調整應用程式的某個部分，可能需要連帶調整其他部分。</span><span class="sxs-lookup"><span data-stu-id="d634a-224">Scaling one part of the app can require the scaling of another.</span></span> <span data-ttu-id="d634a-225">例如，如果用戶端連線數目增加，但應用程式的 Web 服務未適當相應放大，則資料庫上的負載可能會使應用程式達到飽和。</span><span class="sxs-lookup"><span data-stu-id="d634a-225">For example, if the number of client connections increases but the app's web services aren't scaled out appropriately, the load on the database might saturate the app.</span></span>

<span data-ttu-id="d634a-226">有些應用程式元件可以線性方式相應放大，有些則有調整相依性，而使其可調整的程度受到限制。</span><span class="sxs-lookup"><span data-stu-id="d634a-226">Some app components can scale out linearly, while others have scaling dependencies and might be limited to what extent they're able to scale.</span></span> <span data-ttu-id="d634a-227">例如，為應用程式元件位置提供混合式連線的 VPN 通道，在可調整的頻寬和延遲方面都有其限制。</span><span class="sxs-lookup"><span data-stu-id="d634a-227">For example, a VPN tunnel providing hybrid connectivity for the app components locations has a limit to the bandwidth and latency it can be scaled to.</span></span> <span data-ttu-id="d634a-228">如何調整應用程式的元件以確實符合這些需求呢？</span><span class="sxs-lookup"><span data-stu-id="d634a-228">How are components of the app scaled to ensure these requirements are met?</span></span>

### <a name="scalability-checklist"></a><span data-ttu-id="d634a-229">延展性檢查清單</span><span class="sxs-lookup"><span data-stu-id="d634a-229">Scalability checklist</span></span>

<span data-ttu-id="d634a-230">**確定調整臨界值。**</span><span class="sxs-lookup"><span data-stu-id="d634a-230">**Ascertain scaling thresholds.**</span></span> <span data-ttu-id="d634a-231">若要處理應用程式中的各種相依性，請確認應用程式元件在不同雲端中可獨立調整到何種程度，同時仍符合執行應用程式的需求。</span><span class="sxs-lookup"><span data-stu-id="d634a-231">To handle the various dependencies in your app, determine the extent to which app components in different clouds can scale independently of each other, while still meeting the requirements to run the app.</span></span> <span data-ttu-id="d634a-232">混合式應用程式常需要調整應用程式中的特定區域，以處理某個與應用程式的其餘部分互動並造成影響的功能。</span><span class="sxs-lookup"><span data-stu-id="d634a-232">Hybrid apps often need to scale particular areas in the app to handle a feature as it interacts and affects the rest of the app.</span></span> <span data-ttu-id="d634a-233">例如，當前端執行個體超出某個數量時，可能需要調整後端。</span><span class="sxs-lookup"><span data-stu-id="d634a-233">For example, exceeding a number of front-end instances may require scaling the back end.</span></span>

<span data-ttu-id="d634a-234">**定義調整排程。**</span><span class="sxs-lookup"><span data-stu-id="d634a-234">**Define scale schedules.**</span></span> <span data-ttu-id="d634a-235">大部分的應用程式都有忙碌期間，因此您必須將其尖峰時間彙總到排程中，以協調出最佳調整程序。</span><span class="sxs-lookup"><span data-stu-id="d634a-235">Most apps have busy periods, so you need to aggregate their peak times into schedules to coordinate optimal scaling.</span></span>

<span data-ttu-id="d634a-236">**使用集中式監視系統。**</span><span class="sxs-lookup"><span data-stu-id="d634a-236">**Use a centralized monitoring system.**</span></span> <span data-ttu-id="d634a-237">平台監視功能可以提供自動調整機制，但混合式應用程式需要可彙總系統健康情況和負載的集中式監視系統。</span><span class="sxs-lookup"><span data-stu-id="d634a-237">Platform monitoring capabilities can provide autoscaling, but hybrid apps need a centralized monitoring system that aggregates system health and load.</span></span> <span data-ttu-id="d634a-238">集中式監視系統可在某個位置開始調整某項資源，並在另一個位置調整相依的資源。</span><span class="sxs-lookup"><span data-stu-id="d634a-238">A centralized monitoring system can initiate scaling a resource in one location and scaling depending on resource in another location.</span></span> <span data-ttu-id="d634a-239">此外，中央監視系統可追蹤哪些雲端會自動調整資源，哪些雲端不會。</span><span class="sxs-lookup"><span data-stu-id="d634a-239">Additionally, a central monitoring system can track which clouds autoscale resources and which clouds don't.</span></span>

<span data-ttu-id="d634a-240">**利用自動調整功能 (如果適用)。**</span><span class="sxs-lookup"><span data-stu-id="d634a-240">**Leverage autoscaling capabilities (as available).**</span></span> <span data-ttu-id="d634a-241">如果自動調整功能是您架構的一部分，您可以設定臨界值，以定義應用程式元件在何時需要相應增加、相應放大、相應減少或相應縮小，藉以實作自動調整。</span><span class="sxs-lookup"><span data-stu-id="d634a-241">If autoscaling capabilities are part of your architecture, you implement autoscaling by setting thresholds that define when an app component needs to be scaled up, out, down, or in.</span></span> <span data-ttu-id="d634a-242">舉例來說，若用戶端連線在一個雲端中進行自動調整，以處理增加的容量，但同時使分散於不同雲端的其他應用程式相依性也進行調整，即為自動調整。</span><span class="sxs-lookup"><span data-stu-id="d634a-242">An example of autoscaling is a client connection that's autoscaled in one cloud to handle increased capacity, but causes other dependencies of the app, spread across different clouds, to also be scaled.</span></span> <span data-ttu-id="d634a-243">您必須確認這些相依元件是否有自動調整功能。</span><span class="sxs-lookup"><span data-stu-id="d634a-243">The autoscaling capabilities of these dependent components must be ascertained.</span></span>

<span data-ttu-id="d634a-244">如果無法使用自動調整，請考慮執行指令碼和其他資源，以處理由集中式監視系統中的臨界值所觸發的手動調整。</span><span class="sxs-lookup"><span data-stu-id="d634a-244">If autoscaling isn't available, consider implementing scripts and other resources to accommodate manual scaling, triggered by thresholds in the centralized monitoring system.</span></span>

<span data-ttu-id="d634a-245">**依位置判斷預期的負載。**</span><span class="sxs-lookup"><span data-stu-id="d634a-245">**Determine expected load by location.**</span></span> <span data-ttu-id="d634a-246">處理用戶端要求的混合式應用程式主要可能會依賴單一位置。</span><span class="sxs-lookup"><span data-stu-id="d634a-246">Hybrid apps that handle client requests might primarily rely on a single location.</span></span> <span data-ttu-id="d634a-247">當用戶端要求的負載超過閾值時，您可以在不同的位置新增額外的資源，以分散輸入要求的負載。</span><span class="sxs-lookup"><span data-stu-id="d634a-247">When the load of client requests exceeds a threshold, additional resources can be added in a different location to distribute the load of inbound requests.</span></span> <span data-ttu-id="d634a-248">請確定用戶端連線可以處理增加的負載，並確認是否有任何自動化程序可供用戶端連線處理負載。</span><span class="sxs-lookup"><span data-stu-id="d634a-248">Make sure that the client connections can handle the increased loads and also determine any automated procedures for the client connections to handle the load.</span></span>

## <a name="availability"></a><span data-ttu-id="d634a-249">可用性</span><span class="sxs-lookup"><span data-stu-id="d634a-249">Availability</span></span>

<span data-ttu-id="d634a-250">可用性是指系統正常運作並執行作業的時間。</span><span class="sxs-lookup"><span data-stu-id="d634a-250">Availability is the time that a system is functional and working.</span></span> <span data-ttu-id="d634a-251">可用性會以運作時間百分比來測量。</span><span class="sxs-lookup"><span data-stu-id="d634a-251">Availability is measured as a percentage of uptime.</span></span> <span data-ttu-id="d634a-252">應用程式錯誤、基礎結構問題和系統負載全都有可能會降低可用性。</span><span class="sxs-lookup"><span data-stu-id="d634a-252">App errors, infrastructure problems, and system load can all reduce availability.</span></span>

<span data-ttu-id="d634a-253">如需此要素的核心討論，請參閱卓越架構五大要素中的[*可用性*](/azure/architecture/framework/)。</span><span class="sxs-lookup"><span data-stu-id="d634a-253">For the core discussion of this pillar, see [*Availability*](/azure/architecture/framework/) in the five pillars of architecture excellence.</span></span>

### <a name="availability-checklist"></a><span data-ttu-id="d634a-254">可用性檢查清單</span><span class="sxs-lookup"><span data-stu-id="d634a-254">Availability checklist</span></span>

<span data-ttu-id="d634a-255">**提供備援連線能力。**</span><span class="sxs-lookup"><span data-stu-id="d634a-255">**Provide redundancy for connectivity.**</span></span> <span data-ttu-id="d634a-256">使用混合式應用程式時，應用程式散佈所在的雲端之間必須可相互連線。</span><span class="sxs-lookup"><span data-stu-id="d634a-256">Hybrid apps require connectivity among the clouds that the app is spread across.</span></span> <span data-ttu-id="d634a-257">您可以選擇混合式連線的技術，因此除了您選擇的主要技術外，您也可以使用另一項技術來提供備援能力，以便在主要技術失敗時進行自動化容錯移轉。</span><span class="sxs-lookup"><span data-stu-id="d634a-257">You have a choice of technologies for hybrid connectivity, so in addition to your primary technology choice, use another technology to provide redundancy with automated failover capabilities should the primary technology fail.</span></span>

<span data-ttu-id="d634a-258">**分類容錯網域。**</span><span class="sxs-lookup"><span data-stu-id="d634a-258">**Classify fault domains.**</span></span> <span data-ttu-id="d634a-259">容錯應用程式需要多個容錯網域。</span><span class="sxs-lookup"><span data-stu-id="d634a-259">Fault-tolerant apps require multiple fault domains.</span></span> <span data-ttu-id="d634a-260">容錯網域有助於找出失敗點，例如，是內部部署的單一硬碟故障、機架頂端交換器中斷，還是整個資料中心都無法使用。</span><span class="sxs-lookup"><span data-stu-id="d634a-260">Fault domains help isolate the point of failure, such as if a single hard disk fails on premises, if a top-of-rack switch goes down, or if the full datacenter is unavailable.</span></span> <span data-ttu-id="d634a-261">在混合式應用程式中，您可將位置分類為容錯網域。</span><span class="sxs-lookup"><span data-stu-id="d634a-261">In a hybrid app, a location can be classified as a fault domain.</span></span> <span data-ttu-id="d634a-262">可用性需求愈高，就愈有必要評估單一容錯網域的分類方式。</span><span class="sxs-lookup"><span data-stu-id="d634a-262">With more availability requirements, the more you need to evaluate how a single fault domain should be classified.</span></span>

<span data-ttu-id="d634a-263">**分類升級網域。**</span><span class="sxs-lookup"><span data-stu-id="d634a-263">**Classify upgrade domains.**</span></span> <span data-ttu-id="d634a-264">升級網域可用來確保應用程式元件的執行個體在相同元件的其他執行個體進行更新或功能升級時，仍可供使用。</span><span class="sxs-lookup"><span data-stu-id="d634a-264">Upgrade domains are used to ensure that instances of app components are available, while other instances of the same component are being serviced with updates or feature upgrades.</span></span> <span data-ttu-id="d634a-265">和容錯網域一樣，升級網域也可依其放置位置來分類。</span><span class="sxs-lookup"><span data-stu-id="d634a-265">As with fault domains, upgrade domains can be classified by their placement across locations.</span></span> <span data-ttu-id="d634a-266">您必須先判斷應用程式元件是否可直接在某個位置升級而無須先在另一個位置升級，或是否需要進行其他網域設定。</span><span class="sxs-lookup"><span data-stu-id="d634a-266">You must determine if an app component can accommodate getting upgraded in one location before it's upgraded in another location, or if other domain configurations are required.</span></span> <span data-ttu-id="d634a-267">單一位置本身可以有多個升級網域。</span><span class="sxs-lookup"><span data-stu-id="d634a-267">A single location itself can have multiple upgrade domains.</span></span>

<span data-ttu-id="d634a-268">**追蹤執行個體和可用性。**</span><span class="sxs-lookup"><span data-stu-id="d634a-268">**Track instances and availability.**</span></span> <span data-ttu-id="d634a-269">高可用性應用程式元件可透過負載平衡和同步資料複寫來啟用。</span><span class="sxs-lookup"><span data-stu-id="d634a-269">Highly available app components can be available through load balancing and synchronous data replication.</span></span> <span data-ttu-id="d634a-270">您必須確認在服務中斷之前最多可以有多少個離線的執行個體。</span><span class="sxs-lookup"><span data-stu-id="d634a-270">You must determine how many instances can be offline before the service is interrupted.</span></span>

<span data-ttu-id="d634a-271">**實作自我修復。**</span><span class="sxs-lookup"><span data-stu-id="d634a-271">**Implement self-healing.**</span></span> <span data-ttu-id="d634a-272">有問題導致應用程式可用性中斷時，監視系統的偵測可能會起始對應用程式的自我修復活動，例如清空失敗的執行個體並重新加以部署。</span><span class="sxs-lookup"><span data-stu-id="d634a-272">In the event an issue causes an interruption to the app availability, a detection by a monitoring system could initiate self-healing activities to the app, such as draining the failed instance and redeploying it.</span></span> <span data-ttu-id="d634a-273">這很可能需要中央監視解決方案，並且整合混合式持續整合和持續傳遞 (CI/CD) 管線。</span><span class="sxs-lookup"><span data-stu-id="d634a-273">Most likely this requires a central monitoring solution, integrated with a hybrid Continuous Integration, and Continuous Delivery (CI/CD) pipeline.</span></span> <span data-ttu-id="d634a-274">應用程式可與監視系統整合，以找出可能需要重新部署應用程式元件的問題。</span><span class="sxs-lookup"><span data-stu-id="d634a-274">The app is integrated with a monitoring system to identify issues that could require redeployment of an app component.</span></span> <span data-ttu-id="d634a-275">監視系統也可觸發混合式 CI/CD 以重新部署應用程式元件，甚或位於相同或其他位置中的任何其他相依元件。</span><span class="sxs-lookup"><span data-stu-id="d634a-275">The monitoring system can also trigger hybrid CI/CD to redeploy the app component and potentially any other dependent components in the same or other locations.</span></span>

<span data-ttu-id="d634a-276">**維護服務等級協定 (SLA)。**</span><span class="sxs-lookup"><span data-stu-id="d634a-276">**Maintain service-level agreements (SLAs).**</span></span> <span data-ttu-id="d634a-277">在任何合約中，要讓您為客戶提供的服務和應用程式保有連線能力，可用性都是關鍵要素。</span><span class="sxs-lookup"><span data-stu-id="d634a-277">Availability is critical for any agreements to maintain connectivity to the services and apps that you have with your customers.</span></span> <span data-ttu-id="d634a-278">您的混合式應用程式所依賴的每個位置都可能有其本身的 SLA。</span><span class="sxs-lookup"><span data-stu-id="d634a-278">Each location that your hybrid app relies on might have its own SLA.</span></span> <span data-ttu-id="d634a-279">這些不同的 SLA 可能會影響到您混合式應用程式的整體 SLA。</span><span class="sxs-lookup"><span data-stu-id="d634a-279">These different SLAs can affect the overall SLA of your hybrid app.</span></span>

## <a name="resiliency"></a><span data-ttu-id="d634a-280">災害復原</span><span class="sxs-lookup"><span data-stu-id="d634a-280">Resiliency</span></span>

<span data-ttu-id="d634a-281">「復原」是指混合式應用程式和系統從失敗中復原並繼續運作的能力。</span><span class="sxs-lookup"><span data-stu-id="d634a-281">Resiliency is the ability for a hybrid app and system to recover from failures and continue to function.</span></span> <span data-ttu-id="d634a-282">災害復原的目標是使應用程式在發生失敗後，能夠恢復到完全正常運作的狀態。</span><span class="sxs-lookup"><span data-stu-id="d634a-282">The goal of resiliency is to return the app to a fully functioning state after a failure occurs.</span></span> <span data-ttu-id="d634a-283">復原策略包括備份、複寫和災害復原等解決方案。</span><span class="sxs-lookup"><span data-stu-id="d634a-283">Resiliency strategies include solutions like backup, replication, and disaster recovery.</span></span>

<span data-ttu-id="d634a-284">如需此要素的核心討論，請參閱卓越架構五大要素中的[*復原*](/azure/architecture/guide/pillars#resiliency)。</span><span class="sxs-lookup"><span data-stu-id="d634a-284">For the core discussion of this pillar, see [*Resiliency*](/azure/architecture/guide/pillars#resiliency) in the five pillars of architecture excellence.</span></span>

### <a name="resiliency-checklist"></a><span data-ttu-id="d634a-285">復原檢查清單</span><span class="sxs-lookup"><span data-stu-id="d634a-285">Resiliency checklist</span></span>

<span data-ttu-id="d634a-286">**找出災害復原相依性。**</span><span class="sxs-lookup"><span data-stu-id="d634a-286">**Uncover disaster-recovery dependencies.**</span></span> <span data-ttu-id="d634a-287">要進行一個雲端中的災害復原，可能需要變更另一個雲端中的應用程式元件。</span><span class="sxs-lookup"><span data-stu-id="d634a-287">Disaster recovery in one cloud might require changes to app components in another cloud.</span></span> <span data-ttu-id="d634a-288">如果一個雲端中的一或多個元件容錯移轉至另一個位置 (在相同的雲端或另一個雲端中)，您必須使相依元件能夠辨識這些變更。</span><span class="sxs-lookup"><span data-stu-id="d634a-288">If one or multiple components from one cloud are failed-over to another location, either within the same cloud or to another cloud, the dependent components need to be made aware of these changes.</span></span> <span data-ttu-id="d634a-289">其中也包括連線相依性。</span><span class="sxs-lookup"><span data-stu-id="d634a-289">This also includes the connectivity dependencies.</span></span> <span data-ttu-id="d634a-290">若要有復原能力，每個雲端都必須要有全面測試過的應用程式復原計畫。</span><span class="sxs-lookup"><span data-stu-id="d634a-290">Resiliency requires a fully tested app recovery plan for each cloud.</span></span>

<span data-ttu-id="d634a-291">**建立復原流程。**</span><span class="sxs-lookup"><span data-stu-id="d634a-291">**Establish recovery flow.**</span></span> <span data-ttu-id="d634a-292">有效的復原流程設計已評估應用程式元件是否有能力處理緩衝區、重試作業、重試失敗的資料傳輸，並視需要切換回不同的服務或工作流程。</span><span class="sxs-lookup"><span data-stu-id="d634a-292">An effective recovery flow design has evaluated app components for their ability to accommodate buffers, retries, retrying failed data transfer, and, if necessary, fall back to a different service or workflow.</span></span> <span data-ttu-id="d634a-293">您必須決定要使用何種備份機制、其還原程序涉及哪些因素，及其測試頻率。</span><span class="sxs-lookup"><span data-stu-id="d634a-293">You must determine what back-up mechanism to use, what its restore procedure involves, and how often it's tested.</span></span> <span data-ttu-id="d634a-294">您也應決定增量和完整備份的頻率。</span><span class="sxs-lookup"><span data-stu-id="d634a-294">You should also determine the frequency for both incremental and full backups.</span></span>

<span data-ttu-id="d634a-295">**測試部分復原。**</span><span class="sxs-lookup"><span data-stu-id="d634a-295">**Test partial recoveries.**</span></span> <span data-ttu-id="d634a-296">應用程式局部的部分復原可對使用者再次擔保完整的可用性。</span><span class="sxs-lookup"><span data-stu-id="d634a-296">A partial recovery for part of the app can provide reassurance to users that all isn't unavailable.</span></span> <span data-ttu-id="d634a-297">這部分的計畫應確保部分還原沒有任何副作用，例如，備份和還原服務會與應用程式互動，並在進行備份之前依正常程序加以關閉。</span><span class="sxs-lookup"><span data-stu-id="d634a-297">This part of the plan should ensure that a partial restore doesn't have any side effects, such as a backup and restore service that interacts with the app to gracefully shut it down before the backup is made.</span></span>

<span data-ttu-id="d634a-298">**決定災害復原調查人員並指派職責。**</span><span class="sxs-lookup"><span data-stu-id="d634a-298">**Determine disaster-recovery instigators and assign responsibility.**</span></span> <span data-ttu-id="d634a-299">復原計畫應在可備份和還原的項目以外，連帶說明哪些人和哪些角色可起始備份和復原動作。</span><span class="sxs-lookup"><span data-stu-id="d634a-299">A recovery plan should describe who, and what roles, can initiate backup and recovery actions in addition to what can be backed up and restored.</span></span>

<span data-ttu-id="d634a-300">**比較自我修復臨界值與災害復原。**</span><span class="sxs-lookup"><span data-stu-id="d634a-300">**Compare self-healing thresholds with disaster recovery.**</span></span> <span data-ttu-id="d634a-301">確認應用程式起始自動復原的自我修復能力，以及將應用程式的自我修復視為失敗或成功所需的時間。</span><span class="sxs-lookup"><span data-stu-id="d634a-301">Determine an app's self-healing capabilities for automatic recovery initiation and the time required for an app's self- healing to be considered a failure or success.</span></span> <span data-ttu-id="d634a-302">請決定每個雲端的臨界值。</span><span class="sxs-lookup"><span data-stu-id="d634a-302">Determine the thresholds for each cloud.</span></span>

<span data-ttu-id="d634a-303">**確認復原功能的可用性。**</span><span class="sxs-lookup"><span data-stu-id="d634a-303">**Verify availability of resiliency features.**</span></span> <span data-ttu-id="d634a-304">對每個位置確認復原功能和能力的可用性。</span><span class="sxs-lookup"><span data-stu-id="d634a-304">Determine the availability of resiliency features and capabilities for each location.</span></span> <span data-ttu-id="d634a-305">如果某個位置未提供必要的能力，請考慮將該位置整合到可提供復原功能的集中式服務中。</span><span class="sxs-lookup"><span data-stu-id="d634a-305">If a location doesn't provide the required capabilities, consider integrating that location into a centralized service that provides the resiliency features.</span></span>

<span data-ttu-id="d634a-306">**確認停機時間。**</span><span class="sxs-lookup"><span data-stu-id="d634a-306">**Determine downtimes.**</span></span> <span data-ttu-id="d634a-307">確認因應用程式整體維護和應用程式元件個別維護而造成的預期停機時間。</span><span class="sxs-lookup"><span data-stu-id="d634a-307">Determine the expected downtime due to maintenance for the app as a whole and as app components.</span></span>

<span data-ttu-id="d634a-308">**記錄疑難排解程序。**</span><span class="sxs-lookup"><span data-stu-id="d634a-308">**Document troubleshooting procedures.**</span></span> <span data-ttu-id="d634a-309">定義重新部署資源和應用程式元件的疑難排解程序。</span><span class="sxs-lookup"><span data-stu-id="d634a-309">Define troubleshooting procedures for redeploying resources and app components.</span></span>

## <a name="manageability"></a><span data-ttu-id="d634a-310">管理能力</span><span class="sxs-lookup"><span data-stu-id="d634a-310">Manageability</span></span>

<span data-ttu-id="d634a-311">在設計架構時，您管理混合式應用程式的方式是非常重要的考量。</span><span class="sxs-lookup"><span data-stu-id="d634a-311">The considerations for how you manage your hybrid apps are critical in designing your architecture.</span></span> <span data-ttu-id="d634a-312">妥善管理的混合式應用程式可提供程式碼形式的的基礎結構，讓您可在一般開發管線中整合一致的應用程式程式碼。</span><span class="sxs-lookup"><span data-stu-id="d634a-312">A well-managed hybrid app provides an infrastructure as code that enables the integration of consistent app code in a common development pipeline.</span></span> <span data-ttu-id="d634a-313">藉由對基礎結構的變更執行一致的全系統和個別測試，當變更通過測試時，您可以確保整合的部署允許將這些變更合併到原始程式碼中。</span><span class="sxs-lookup"><span data-stu-id="d634a-313">By implementing consistent system-wide and individual testing of changes to the infrastructure, you can ensure an integrated deployment if the changes pass the tests, allowing them to be merged into the source code.</span></span>

<span data-ttu-id="d634a-314">如需此要素的核心討論，請參閱卓越架構五大要素中的 [*DevOps*](/azure/architecture/framework/#devops)。</span><span class="sxs-lookup"><span data-stu-id="d634a-314">For the core discussion of this pillar, see [*DevOps*](/azure/architecture/framework/#devops) in the five pillars of architecture excellence.</span></span>

### <a name="manageability-checklist"></a><span data-ttu-id="d634a-315">管理性檢查清單</span><span class="sxs-lookup"><span data-stu-id="d634a-315">Manageability checklist</span></span>

<span data-ttu-id="d634a-316">**實作監視。**</span><span class="sxs-lookup"><span data-stu-id="d634a-316">**Implement monitoring.**</span></span> <span data-ttu-id="d634a-317">使用跨雲端散佈之應用程式元件的集中式監視系統，提供其健康情況和效能的彙總檢視。</span><span class="sxs-lookup"><span data-stu-id="d634a-317">Use a centralized monitoring system of app components spread across clouds to provide an aggregated view of their health and performance.</span></span> <span data-ttu-id="d634a-318">此系統會同時監視應用程式元件和相關的平台功能。</span><span class="sxs-lookup"><span data-stu-id="d634a-318">This system includes monitoring both the app components and related platform capabilities.</span></span>

<span data-ttu-id="d634a-319">請確認需要監視應用程式的哪些部分。</span><span class="sxs-lookup"><span data-stu-id="d634a-319">Determine the parts of the app that require monitoring.</span></span>

<span data-ttu-id="d634a-320">**協調原則。**</span><span class="sxs-lookup"><span data-stu-id="d634a-320">**Coordinate policies.**</span></span> <span data-ttu-id="d634a-321">混合式應用程式跨及的每個位置都可以有其本身的原則，其中涵蓋允許的資源類型、命名慣例、標記和其他準則。</span><span class="sxs-lookup"><span data-stu-id="d634a-321">Each location that a hybrid app spans can have its own policy that covers allowed resource types, naming conventions, tags, and other criteria.</span></span>

<span data-ttu-id="d634a-322">**定義和使用角色。**</span><span class="sxs-lookup"><span data-stu-id="d634a-322">**Define and use roles.**</span></span> <span data-ttu-id="d634a-323">身為資料庫管理員，您必須為需要存取應用程式資源的不同角色 (例如應用程式擁有者、資料庫管理員和使用者) 指定其所需的權限。</span><span class="sxs-lookup"><span data-stu-id="d634a-323">As a database admin, you need to determine the permissions required for different personas (like an app owner, a database admin, and an end user) that need to access app resources.</span></span> <span data-ttu-id="d634a-324">這些權限必須設定在資源上和應用程式內。</span><span class="sxs-lookup"><span data-stu-id="d634a-324">These permissions need to be configured on the resources and inside the app.</span></span> <span data-ttu-id="d634a-325">角色型存取控制 (RBAC) 系統可讓您在應用程式資源上設定這些權限。</span><span class="sxs-lookup"><span data-stu-id="d634a-325">A role-based access control (RBAC) system allows you to set these permissions on the app resources.</span></span> <span data-ttu-id="d634a-326">當所有資源都部署在單一雲端時，這些存取權限會很難處理，但在資源分散於不同的雲端時將更需多加留意。</span><span class="sxs-lookup"><span data-stu-id="d634a-326">These access rights are challenging when all resources are deployed in a single cloud but require even more attention when the resources are spread across clouds.</span></span> <span data-ttu-id="d634a-327">在某個雲端中設定的資源權限，不會套用至另一個雲端中設定的資源。</span><span class="sxs-lookup"><span data-stu-id="d634a-327">Permissions on resources set in one cloud don't apply to resources set in another cloud.</span></span>

<span data-ttu-id="d634a-328">**使用 CI/CD 管線。**</span><span class="sxs-lookup"><span data-stu-id="d634a-328">**Use CI/CD pipelines.**</span></span> <span data-ttu-id="d634a-329">持續整合和持續開發 (CI/CD) 管線可提供一致的程序讓您撰寫和部署跨雲端的應用程式，並提供其基礎結構和應用程式的品質保證。</span><span class="sxs-lookup"><span data-stu-id="d634a-329">A Continuous Integration and Continuous Development (CI/CD) pipeline can provide a consistent process for authoring and deploying apps that span across clouds, and to provide quality assurance for their infrastructure and app.</span></span> <span data-ttu-id="d634a-330">此管線可讓基礎結構和應用程式在一個雲端上進行測試，然後部署在另一個雲端上。</span><span class="sxs-lookup"><span data-stu-id="d634a-330">This pipeline enables the infrastructure and app to be tested on one cloud and deployed on another cloud.</span></span> <span data-ttu-id="d634a-331">此管線甚至可讓您將混合式應用程式的特定元件部署到一個雲端，並將其他元件部署到另一個雲端，而構成混合式應用程式部署的基礎。</span><span class="sxs-lookup"><span data-stu-id="d634a-331">The pipeline even allows you to deploy certain components of your hybrid app to one cloud and other components to another cloud, essentially forming the foundation for hybrid app deployment.</span></span> <span data-ttu-id="d634a-332">在處理相依性應用程式元件在安裝期間對彼此的相依性時 (例如 Web 應用程式需要資料庫的連接字串)，CI/CD 系統是不可或缺的。</span><span class="sxs-lookup"><span data-stu-id="d634a-332">A CI/CD system is critical for handling the dependencies app components have for each other during installation, such as the web app needing a connection string to the database.</span></span>

<span data-ttu-id="d634a-333">**管理生命週期。**</span><span class="sxs-lookup"><span data-stu-id="d634a-333">**Manage the life cycle.**</span></span> <span data-ttu-id="d634a-334">由於混合式應用程式的資源可跨多個位置，因此必須將每個單一位置的生命週期管理功能彙總成單一生命週期管理單元。</span><span class="sxs-lookup"><span data-stu-id="d634a-334">Because resources of a hybrid app can span locations, each single location's life-cycle management capability needs to be aggregated into a single life-cycle management unit.</span></span> <span data-ttu-id="d634a-335">請考量其建立、更新和刪除方式。</span><span class="sxs-lookup"><span data-stu-id="d634a-335">Consider how they're created, updated, and deleted.</span></span>

<span data-ttu-id="d634a-336">**檢查疑難排解策略。**</span><span class="sxs-lookup"><span data-stu-id="d634a-336">**Examine troubleshooting strategies.**</span></span> <span data-ttu-id="d634a-337">相較於在單一雲端中執行的應用程式，對混合式應用程式進行疑難排解時所涉及的應用程式元件相對較多。</span><span class="sxs-lookup"><span data-stu-id="d634a-337">Troubleshooting a hybrid app involves more app components than the same app that's running in a single cloud.</span></span> <span data-ttu-id="d634a-338">除了雲端之間的連線，應用程式都會在兩個平台上執行，而不是一個。</span><span class="sxs-lookup"><span data-stu-id="d634a-338">Besides the connectivity between the clouds, the app is running on two platforms instead of one.</span></span> <span data-ttu-id="d634a-339">對混合式應用程式進行疑難排解的重要工作之一，是檢查應用程式元件彙總的健康情況和效能監視。</span><span class="sxs-lookup"><span data-stu-id="d634a-339">An important task in troubleshooting hybrid apps is to examine the aggregated health and performance monitoring of the app components.</span></span>

## <a name="security"></a><span data-ttu-id="d634a-340">安全性</span><span class="sxs-lookup"><span data-stu-id="d634a-340">Security</span></span>

<span data-ttu-id="d634a-341">安全性是任何雲端應用程式的主要考量之一，對混合式雲端應用程式而言更是重要。</span><span class="sxs-lookup"><span data-stu-id="d634a-341">Security is one of the primary considerations for any cloud app and it becomes even more critical for hybrid cloud apps.</span></span>

<span data-ttu-id="d634a-342">如需此要素的核心討論，請參閱卓越架構五大要素中的[*安全性*](/azure/architecture/guide/pillars#security)。</span><span class="sxs-lookup"><span data-stu-id="d634a-342">For the core discussion of this pillar, see [*Security*](/azure/architecture/guide/pillars#security) in the five pillars of architecture excellence.</span></span>

### <a name="security-checklist"></a><span data-ttu-id="d634a-343">安全性檢查清單</span><span class="sxs-lookup"><span data-stu-id="d634a-343">Security checklist</span></span>

<span data-ttu-id="d634a-344">**假想缺口。**</span><span class="sxs-lookup"><span data-stu-id="d634a-344">**Assume breach.**</span></span> <span data-ttu-id="d634a-345">如果應用程式的某個部分遭到入侵，請確定有現成的解決方案可將缺口的擴散性降到最低，且不僅是在相同位置內，各個位置也是如此。</span><span class="sxs-lookup"><span data-stu-id="d634a-345">If one part of the app is compromised, ensure there are solutions in place to minimize the spread of the breach, not only within the same location but also across locations.</span></span>

<span data-ttu-id="d634a-346">**監視允許的網路存取。**</span><span class="sxs-lookup"><span data-stu-id="d634a-346">**Monitor allowed network access.**</span></span> <span data-ttu-id="d634a-347">決定應用程式的網路存取原則，例如只從特定子網路存取應用程式，以及在元件之間僅允許應用程式正常運作所需的基本連接埠和通訊協定。</span><span class="sxs-lookup"><span data-stu-id="d634a-347">Determine the network access policies for the app, such as only accessing the app from a specific subnet and only allow the minimum ports and protocols between the components required for the app to function properly.</span></span>

<span data-ttu-id="d634a-348">**採用健全的驗證。**</span><span class="sxs-lookup"><span data-stu-id="d634a-348">**Employ robust authentication.**</span></span> <span data-ttu-id="d634a-349">健全的驗證配置對應用程式的安全性而言非常重要。</span><span class="sxs-lookup"><span data-stu-id="d634a-349">A robust authentication scheme is critical for the security of your app.</span></span> <span data-ttu-id="d634a-350">請考慮使用可提供單一登入功能的同盟識別提供者，並採用下列一或多項配置：使用者名稱和密碼登入、公開和私密金鑰、雙因素或多重要素驗證，以及信任的安全性群組。</span><span class="sxs-lookup"><span data-stu-id="d634a-350">Consider using a federated identity provider that provides single sign-on capabilities and employs one or more of the following schemes: username and password sign-on, public and private keys, two-factor or multi-factor authentication, and trusted security groups.</span></span> <span data-ttu-id="d634a-351">請指定適當的資源來儲存機密資料，且除了憑證類型及其需求外，請為應用程式驗證指定其他秘密。</span><span class="sxs-lookup"><span data-stu-id="d634a-351">Determine the appropriate resources to store sensitive data and other secrets for app authentication in addition to certificate types and their requirements.</span></span>

<span data-ttu-id="d634a-352">**使用加密。**</span><span class="sxs-lookup"><span data-stu-id="d634a-352">**Use encryption.**</span></span> <span data-ttu-id="d634a-353">識別應用程式的哪些區域應使用加密，例如，用於資料儲存或用戶端通訊和存取。</span><span class="sxs-lookup"><span data-stu-id="d634a-353">Identify which areas of the app use encryption, such as for data storage or client communication and access.</span></span>

<span data-ttu-id="d634a-354">**使用安全通道。**</span><span class="sxs-lookup"><span data-stu-id="d634a-354">**Use secure channels.**</span></span> <span data-ttu-id="d634a-355">雲端間必須要有安全通道，才能提供安全性和驗證檢查、即時保護、隔離，和其他跨雲端的服務。</span><span class="sxs-lookup"><span data-stu-id="d634a-355">A secure channel across the clouds is critical for providing security and authentication checks, real-time protection, quarantine, and other services across clouds.</span></span>

<span data-ttu-id="d634a-356">**定義和使用角色。**</span><span class="sxs-lookup"><span data-stu-id="d634a-356">**Define and use roles.**</span></span> <span data-ttu-id="d634a-357">對雲端間的資源設定和單一身分識別存取實作適當角色。</span><span class="sxs-lookup"><span data-stu-id="d634a-357">Implement roles for resource configurations and single-identity access across clouds.</span></span> <span data-ttu-id="d634a-358">確認應用程式及其平台資源的角色型存取控制 (RBAC) 需求。</span><span class="sxs-lookup"><span data-stu-id="d634a-358">Determine the role-based access control (RBAC) requirements for the app and its platform resources.</span></span>

<span data-ttu-id="d634a-359">**稽核您的系統。**</span><span class="sxs-lookup"><span data-stu-id="d634a-359">**Audit your system.**</span></span> <span data-ttu-id="d634a-360">系統監視可以記錄和彙總來自應用程式元件和相關雲端平台作業的資料。</span><span class="sxs-lookup"><span data-stu-id="d634a-360">System monitoring can log and aggregate data from both the app components and the related cloud platform operations.</span></span>

## <a name="summary"></a><span data-ttu-id="d634a-361">摘要</span><span class="sxs-lookup"><span data-stu-id="d634a-361">Summary</span></span>

<span data-ttu-id="d634a-362">本文提供在撰寫和設計混合式應用程式期間必須考量的重要事項檢查清單。</span><span class="sxs-lookup"><span data-stu-id="d634a-362">This article provides a checklist of items that are important to consider during the authoring and designing of your hybrid apps.</span></span> <span data-ttu-id="d634a-363">在部署應用程式之前先檢閱這些要素，可防止您在生產環境中斷運作時遇到這些問題，甚至還須重新審視您的設計。</span><span class="sxs-lookup"><span data-stu-id="d634a-363">Reviewing these pillars before you deploy your app prevents you from running into these questions in production outages and potentially requiring you to revisit your design.</span></span>

<span data-ttu-id="d634a-364">您可能會覺得這項前置工作很耗時，但如果您根據這些要素來設計應用程式，其效益將輕易彰顯。</span><span class="sxs-lookup"><span data-stu-id="d634a-364">It can seem like a time-consuming task beforehand, but you easily get your return on investment if you design your app based on these pillars.</span></span>

## <a name="next-steps"></a><span data-ttu-id="d634a-365">後續步驟</span><span class="sxs-lookup"><span data-stu-id="d634a-365">Next steps</span></span>

<span data-ttu-id="d634a-366">如需詳細資訊，請參閱下列資源：</span><span class="sxs-lookup"><span data-stu-id="d634a-366">For more information, see the following resources:</span></span>

- [<span data-ttu-id="d634a-367">混合式雲端</span><span class="sxs-lookup"><span data-stu-id="d634a-367">Hybrid cloud</span></span>](https://azure.microsoft.com/overview/hybrid-cloud/)
- [<span data-ttu-id="d634a-368">混合式雲端應用程式</span><span class="sxs-lookup"><span data-stu-id="d634a-368">Hybrid cloud apps</span></span>](https://azure.microsoft.com/solutions/hybrid-cloud-app/)
- [<span data-ttu-id="d634a-369">針對雲端一致性開發 Azure Resource Manager 範本</span><span class="sxs-lookup"><span data-stu-id="d634a-369">Develop Azure Resource Manager templates for cloud consistency</span></span>](/azure/azure-resource-manager/templates/templates-cloud-consistency)