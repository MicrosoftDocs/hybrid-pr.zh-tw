---
title: Azure Stack Hub 中的跨雲端調整 (內部部署資料) 模式
description: 了解如何在 Azure 和 Azure Stack Hub 中建置可使用內部部署資料跨雲端調整的應用程式。
author: BryanLa
ms.topic: article
ms.date: 11/05/2019
ms.author: bryanla
ms.reviewer: anajod
ms.lastreviewed: 11/05/2019
ms.openlocfilehash: edbb608fbf8e5288f29572bfe4cca98ffb3cb8fc
ms.sourcegitcommit: bb3e40b210f86173568a47ba18c3cc50d4a40607
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 06/17/2020
ms.locfileid: "84910122"
---
# <a name="cross-cloud-scaling-on-premises-data-pattern"></a><span data-ttu-id="28947-103">跨雲端調整 (內部部署資料) 模式</span><span class="sxs-lookup"><span data-stu-id="28947-103">Cross-cloud scaling (on-premises data) pattern</span></span>

<span data-ttu-id="28947-104">了解如何建置跨 Azure 和 Azure Stack Hub 的混合式應用程式。</span><span class="sxs-lookup"><span data-stu-id="28947-104">Learn how to build a hybrid app that spans Azure and Azure Stack Hub.</span></span> <span data-ttu-id="28947-105">此模式也示範如何使用單一內部部署資料來源以遵守合規性。</span><span class="sxs-lookup"><span data-stu-id="28947-105">This pattern also shows you how to use a single on-premises data source for compliance.</span></span>

## <a name="context-and-problem"></a><span data-ttu-id="28947-106">內容和問題</span><span class="sxs-lookup"><span data-stu-id="28947-106">Context and problem</span></span>

<span data-ttu-id="28947-107">許多組織都會收集並儲存大量的客戶敏感性資料。</span><span class="sxs-lookup"><span data-stu-id="28947-107">Many organizations collect and store massive amounts of sensitive customer data.</span></span> <span data-ttu-id="28947-108">由於公司規定或政府政策，通常會阻止他們將敏感性資料儲存在公用雲端。</span><span class="sxs-lookup"><span data-stu-id="28947-108">Frequently they're prevented from storing sensitive data in the public cloud because of corporate regulations or government policy.</span></span> <span data-ttu-id="28947-109">這些組織也想要妥善利用公用雲端的延展性。</span><span class="sxs-lookup"><span data-stu-id="28947-109">Those organizations also want to take advantage of the scalability of the public cloud.</span></span> <span data-ttu-id="28947-110">公用雲端可以處理季節性的流量尖峰，讓客戶在需要的時候將費用花在其真正需要的硬體上。</span><span class="sxs-lookup"><span data-stu-id="28947-110">The public cloud can handle seasonal peaks in traffic, allowing customers to pay for exactly the hardware they need, when they need it.</span></span>

## <a name="solution"></a><span data-ttu-id="28947-111">解決方法</span><span class="sxs-lookup"><span data-stu-id="28947-111">Solution</span></span>

<span data-ttu-id="28947-112">此解決方案善用私人雲端的合規性優勢，並將這些優勢與公用雲端的延展性互相結合。</span><span class="sxs-lookup"><span data-stu-id="28947-112">The solution takes advantage of the compliance benefits of the private cloud, combining them with the scalability of the public cloud.</span></span> <span data-ttu-id="28947-113">Azure 和 Azure Stack Hub 混合式雲端為開發人員提供一致的體驗。</span><span class="sxs-lookup"><span data-stu-id="28947-113">The Azure and Azure Stack Hub hybrid cloud provide a consistent experience for developers.</span></span> <span data-ttu-id="28947-114">這種一致性讓他們可以將其技能應用於公用雲端和內部部署環境。</span><span class="sxs-lookup"><span data-stu-id="28947-114">This consistency lets them apply their skills to both public cloud and on-premises environments.</span></span>

<span data-ttu-id="28947-115">解決方案部署指南可讓您將相同的 Web 應用程式部署到公用雲端和私人雲端。</span><span class="sxs-lookup"><span data-stu-id="28947-115">The solution deployment guide allows you to deploy an identical web app to a public and private cloud.</span></span> <span data-ttu-id="28947-116">您也可以存取裝載於私人雲端上的非網際網路可路由網路。</span><span class="sxs-lookup"><span data-stu-id="28947-116">You can also access a non-internet routable network hosted on the private cloud.</span></span> <span data-ttu-id="28947-117">Web 應用程式的負載會受到監視。</span><span class="sxs-lookup"><span data-stu-id="28947-117">The web apps are monitored for load.</span></span> <span data-ttu-id="28947-118">當流量大幅增加時，程序會處理 DNS 記錄以將流量重新導向至公用雲端。</span><span class="sxs-lookup"><span data-stu-id="28947-118">Upon a significant increase in traffic, a program manipulates DNS records to redirect traffic to the public cloud.</span></span> <span data-ttu-id="28947-119">當流量不再大幅增加時，將更新 DNS 記錄，以將流量導向回到私人雲端。</span><span class="sxs-lookup"><span data-stu-id="28947-119">When traffic is no longer significant, the DNS records are updated to direct traffic back to the private cloud.</span></span>

<span data-ttu-id="28947-120">[![使用內部部署資料模式進行跨雲端調整](media/pattern-cross-cloud-scale-onprem-data/solution-architecture.png)](media/pattern-cross-cloud-scale-onprem-data/solution-architecture.png)</span><span class="sxs-lookup"><span data-stu-id="28947-120">[![Cross-cloud scaling with on-prem data pattern](media/pattern-cross-cloud-scale-onprem-data/solution-architecture.png)](media/pattern-cross-cloud-scale-onprem-data/solution-architecture.png)</span></span>

## <a name="components"></a><span data-ttu-id="28947-121">元件</span><span class="sxs-lookup"><span data-stu-id="28947-121">Components</span></span>

<span data-ttu-id="28947-122">此解決方案使用下列元件：</span><span class="sxs-lookup"><span data-stu-id="28947-122">This solution uses the following components:</span></span>

| <span data-ttu-id="28947-123">階層</span><span class="sxs-lookup"><span data-stu-id="28947-123">Layer</span></span> | <span data-ttu-id="28947-124">元件</span><span class="sxs-lookup"><span data-stu-id="28947-124">Component</span></span> | <span data-ttu-id="28947-125">描述</span><span class="sxs-lookup"><span data-stu-id="28947-125">Description</span></span> |
|----------|-----------|-------------|
| <span data-ttu-id="28947-126">Azure</span><span class="sxs-lookup"><span data-stu-id="28947-126">Azure</span></span> | <span data-ttu-id="28947-127">Azure App Service</span><span class="sxs-lookup"><span data-stu-id="28947-127">Azure App Service</span></span> | <span data-ttu-id="28947-128">[Azure App Service](/azure/app-service/) 可讓您組建和裝載 Web 應用程式、RESTful API 應用程式，以及 Azure Functions。</span><span class="sxs-lookup"><span data-stu-id="28947-128">[Azure App Service](/azure/app-service/) allows you to build and host web apps, RESTful API apps, and Azure Functions.</span></span> <span data-ttu-id="28947-129">全部皆以您自己選擇的程式設計語言編寫，而不必管理基礎結構。</span><span class="sxs-lookup"><span data-stu-id="28947-129">All in the programming language of your choice, without managing infrastructure.</span></span> |
| | <span data-ttu-id="28947-130">Azure 虛擬網路</span><span class="sxs-lookup"><span data-stu-id="28947-130">Azure Virtual Network</span></span>| <span data-ttu-id="28947-131">[Azure 虛擬網路 (VNet)](/azure/virtual-network/virtual-networks-overview) 是私人網路在 Azure 中的基本建置組塊。</span><span class="sxs-lookup"><span data-stu-id="28947-131">[Azure Virtual Network (VNet)](/azure/virtual-network/virtual-networks-overview) is the fundamental building block for private networks in Azure.</span></span> <span data-ttu-id="28947-132">VNet 可讓多種類型的 Azure 資源 (例如虛擬機器 (VM)) 安全地彼此通訊，以及與網際網路和內部部署網路通訊。</span><span class="sxs-lookup"><span data-stu-id="28947-132">VNet enables multiple Azure resource types, such as virtual machines (VM), to securely communicate with each other, the internet, and on-premises networks.</span></span> <span data-ttu-id="28947-133">該解決方案也示範其他網路元件的使用方法：</span><span class="sxs-lookup"><span data-stu-id="28947-133">The solution also demonstrates the use of additional networking components:</span></span><br><span data-ttu-id="28947-134">- 應用程式和閘道子網路。</span><span class="sxs-lookup"><span data-stu-id="28947-134">- app and gateway subnets.</span></span><br><span data-ttu-id="28947-135">- 本機內部部署網路閘道。</span><span class="sxs-lookup"><span data-stu-id="28947-135">- a local on-premises network gateway.</span></span><br><span data-ttu-id="28947-136">- 作為站對站 VPN 閘道連線的虛擬網路閘道。</span><span class="sxs-lookup"><span data-stu-id="28947-136">- a virtual network gateway, which acts as a site-to-site VPN gateway connection.</span></span><br><span data-ttu-id="28947-137">- 公用 IP 位址。</span><span class="sxs-lookup"><span data-stu-id="28947-137">- a public IP address.</span></span><br><span data-ttu-id="28947-138">- 點對站 VPN 連線。</span><span class="sxs-lookup"><span data-stu-id="28947-138">- a point-to-site VPN connection.</span></span><br><span data-ttu-id="28947-139">- 用來裝載 DNS 網域和提供名稱解析的 Azure DNS。</span><span class="sxs-lookup"><span data-stu-id="28947-139">- Azure DNS for hosting DNS domains and providing name resolution.</span></span> |
| | <span data-ttu-id="28947-140">Azure 流量管理員</span><span class="sxs-lookup"><span data-stu-id="28947-140">Azure Traffic Manager</span></span> | <span data-ttu-id="28947-141">[Azure 流量管理員](/azure/traffic-manager/traffic-manager-overview)是 DNS 型流量負載平衡器。</span><span class="sxs-lookup"><span data-stu-id="28947-141">[Azure Traffic Manager](/azure/traffic-manager/traffic-manager-overview) is a DNS-based traffic load balancer.</span></span> <span data-ttu-id="28947-142">其可讓您控制使用者流量，將流量分散到不同資料中心的服務端點。</span><span class="sxs-lookup"><span data-stu-id="28947-142">It allows you to control the distribution of user traffic for service endpoints in different datacenters.</span></span> |
| | <span data-ttu-id="28947-143">Azure Application Insights</span><span class="sxs-lookup"><span data-stu-id="28947-143">Azure Application Insights</span></span> | <span data-ttu-id="28947-144">[Application Insights](/azure/azure-monitor/app/app-insights-overview) 是可延伸的應用程式效能管理服務，可供 Web 開發人員在多個平台上建置和管理應用程式。</span><span class="sxs-lookup"><span data-stu-id="28947-144">[Application Insights](/azure/azure-monitor/app/app-insights-overview) is an extensible Application Performance Management service for web developers building and managing apps on multiple platforms.</span></span>|
| | <span data-ttu-id="28947-145">Azure Functions</span><span class="sxs-lookup"><span data-stu-id="28947-145">Azure Functions</span></span> | <span data-ttu-id="28947-146">[Azure Functions](/azure/azure-functions/) 可讓您在無伺服器環境中執行程式碼，而不需要先建立 VM 或發佈 Web 應用程式。</span><span class="sxs-lookup"><span data-stu-id="28947-146">[Azure Functions](/azure/azure-functions/) allows you to execute your code in a serverless environment without having to first create a VM or publish a web app.</span></span> |
| | <span data-ttu-id="28947-147">Azure 自動調整</span><span class="sxs-lookup"><span data-stu-id="28947-147">Azure Autoscale</span></span> | <span data-ttu-id="28947-148">[自動調整](/azure/azure-monitor/platform/autoscale-overview)是雲端服務、VM 與 Web 應用程式的內建功能。</span><span class="sxs-lookup"><span data-stu-id="28947-148">[Autoscale](/azure/azure-monitor/platform/autoscale-overview) is a built-in feature of Cloud Services, VMs, and web apps.</span></span> <span data-ttu-id="28947-149">這項功能可讓應用程式在需求變更時發揮其最佳效能。</span><span class="sxs-lookup"><span data-stu-id="28947-149">The feature allows apps to perform their best when demand changes.</span></span> <span data-ttu-id="28947-150">應用程式會針對流量高峰進行調整，並且在計量發生變化時通知您，並視需要進行調整。</span><span class="sxs-lookup"><span data-stu-id="28947-150">Apps will adjust for traffic spikes, notifying you when metrics change and scaling as needed.</span></span> |
| <span data-ttu-id="28947-151">Azure Stack Hub</span><span class="sxs-lookup"><span data-stu-id="28947-151">Azure Stack Hub</span></span> | <span data-ttu-id="28947-152">IaaS 計算</span><span class="sxs-lookup"><span data-stu-id="28947-152">IaaS Compute</span></span> | <span data-ttu-id="28947-153">Azure Stack Hub 可讓您使用 Azure 提供的相同應用程式模型、自助入口網站及 API。</span><span class="sxs-lookup"><span data-stu-id="28947-153">Azure Stack Hub allows you to use the same app model, self-service portal, and APIs enabled by Azure.</span></span> <span data-ttu-id="28947-154">Azure Stack Hub IaaS 支援各種開放原始碼技術，以進行一致的混合式雲端部署。</span><span class="sxs-lookup"><span data-stu-id="28947-154">Azure Stack Hub IaaS allows a broad range of open-source technologies for consistent hybrid cloud deployments.</span></span> <span data-ttu-id="28947-155">例如，解決方案範例使用 Windows Server VM 到 SQL Server。</span><span class="sxs-lookup"><span data-stu-id="28947-155">The solution example uses a Windows Server VM to SQL Server, for example.</span></span>|
| | <span data-ttu-id="28947-156">Azure App Service</span><span class="sxs-lookup"><span data-stu-id="28947-156">Azure App Service</span></span> | <span data-ttu-id="28947-157">就像 Azure Web 應用程式一樣，解決方案會使用 [Azure Stack Hub 上的 Azure App Service](/azure-stack/operator/azure-stack-app-service-overview) 來裝載 Web 應用程式。</span><span class="sxs-lookup"><span data-stu-id="28947-157">Just like the Azure web app, the solution uses [Azure App Service on Azure Stack Hub](/azure-stack/operator/azure-stack-app-service-overview) to host the web app.</span></span> |
| | <span data-ttu-id="28947-158">網路功能</span><span class="sxs-lookup"><span data-stu-id="28947-158">Networking</span></span> | <span data-ttu-id="28947-159">Azure Stack Hub 虛擬網路的運作方式與 Azure 虛擬網路完全相同。</span><span class="sxs-lookup"><span data-stu-id="28947-159">The Azure Stack Hub Virtual Network works exactly like the Azure Virtual Network.</span></span> <span data-ttu-id="28947-160">它使用許多相同的網路元件，包括自訂的主機名稱。</span><span class="sxs-lookup"><span data-stu-id="28947-160">It uses many of the same networking components, including custom hostnames.</span></span>
| <span data-ttu-id="28947-161">Azure DevOps Services</span><span class="sxs-lookup"><span data-stu-id="28947-161">Azure DevOps Services</span></span> | <span data-ttu-id="28947-162">註冊</span><span class="sxs-lookup"><span data-stu-id="28947-162">Sign up</span></span> | <span data-ttu-id="28947-163">快速設定用於建置、測試和部署的持續整合。</span><span class="sxs-lookup"><span data-stu-id="28947-163">Quickly set up continuous integration for build, test, and deployment.</span></span> <span data-ttu-id="28947-164">如需詳細資訊，請參閱[註冊，登入 Azure DevOps](/azure/devops/user-guide/sign-up-invite-teammates?view=azure-devops)。</span><span class="sxs-lookup"><span data-stu-id="28947-164">For more information, see [Sign up, sign in to Azure DevOps](/azure/devops/user-guide/sign-up-invite-teammates?view=azure-devops).</span></span> |
| | <span data-ttu-id="28947-165">Azure Pipelines</span><span class="sxs-lookup"><span data-stu-id="28947-165">Azure Pipelines</span></span> | <span data-ttu-id="28947-166">使用 [Azure Pipelines](/azure/devops/pipelines/agents/agents?view=azure-devops) 以進行持續整合/持續傳遞。</span><span class="sxs-lookup"><span data-stu-id="28947-166">Use [Azure Pipelines](/azure/devops/pipelines/agents/agents?view=azure-devops) for Continuous Integration/Continuous delivery.</span></span> <span data-ttu-id="28947-167">Azure Pipelines 可讓您管理裝載的組建和版本代理程式及定義。</span><span class="sxs-lookup"><span data-stu-id="28947-167">Azure Pipelines allows you to manage hosted build and release agents and definitions.</span></span> |
| | <span data-ttu-id="28947-168">程式碼存放庫</span><span class="sxs-lookup"><span data-stu-id="28947-168">Code repository</span></span> | <span data-ttu-id="28947-169">利用多個程式碼存放庫以簡化您的開發管線。</span><span class="sxs-lookup"><span data-stu-id="28947-169">Leverage multiple code repositories to streamline your development pipeline.</span></span> <span data-ttu-id="28947-170">使用 GitHub、Bitbucket、Dropbox、OneDrive 和 Azure Repos 中現有的程式碼存放庫。</span><span class="sxs-lookup"><span data-stu-id="28947-170">Use existing code repositories in GitHub, Bitbucket, Dropbox, OneDrive, and Azure Repos.</span></span> |

## <a name="issues-and-considerations"></a><span data-ttu-id="28947-171">問題和考量</span><span class="sxs-lookup"><span data-stu-id="28947-171">Issues and considerations</span></span>

<span data-ttu-id="28947-172">決定如何實作此解決方案時，請考慮下列幾點：</span><span class="sxs-lookup"><span data-stu-id="28947-172">Consider the following points when deciding how to implement this solution:</span></span>

### <a name="scalability"></a><span data-ttu-id="28947-173">延展性</span><span class="sxs-lookup"><span data-stu-id="28947-173">Scalability</span></span>

<span data-ttu-id="28947-174">Azure 和 Azure Stack Hub 僅適用於支援現今全球分散式業務的需求。</span><span class="sxs-lookup"><span data-stu-id="28947-174">Azure and Azure Stack Hub are uniquely suited to support the needs of today's globally distributed business.</span></span>

#### <a name="hybrid-cloud-without-the-hassle"></a><span data-ttu-id="28947-175">省去麻煩的混合式雲端</span><span class="sxs-lookup"><span data-stu-id="28947-175">Hybrid cloud without the hassle</span></span>

<span data-ttu-id="28947-176">Microsoft 運用單一的解決方案，為內部部署資產與 Azure Stack Hub 和 Azure 提供絕佳的整合。</span><span class="sxs-lookup"><span data-stu-id="28947-176">Microsoft offers an unrivaled integration of on-premises assets with Azure Stack Hub and Azure in one unified solution.</span></span> <span data-ttu-id="28947-177">這項整合消弭了管理多點解決方案和混合雲端提供者的麻煩。</span><span class="sxs-lookup"><span data-stu-id="28947-177">This integration eliminates the hassle of managing multiple point solutions and a mix of cloud providers.</span></span> <span data-ttu-id="28947-178">透過跨雲端調整，只要點擊幾下即可發揮 Azure 的威力。</span><span class="sxs-lookup"><span data-stu-id="28947-178">With cross-cloud scaling, the power of Azure is just a few clicks away.</span></span> <span data-ttu-id="28947-179">只要透過雲端負載平衡將您的 Azure Stack Hub 連線到 Azure，即可在需要時於 Azure 中使用您的資料和應用程式。</span><span class="sxs-lookup"><span data-stu-id="28947-179">Just connect your Azure Stack Hub to Azure with cloud bursting and your data and apps will be available in Azure when needed.</span></span>

- <span data-ttu-id="28947-180">消除了建立和維護次要災害復原網站的需求。</span><span class="sxs-lookup"><span data-stu-id="28947-180">Eliminate the need to build and maintain a secondary DR site.</span></span>
- <span data-ttu-id="28947-181">無須再使用磁帶備份，而是在 Azure 中儲存最多 99 年的備份資料，藉此節省時間與成本。</span><span class="sxs-lookup"><span data-stu-id="28947-181">Save time and money by eliminating tape backup and house up to 99 years of backup data in Azure.</span></span>
- <span data-ttu-id="28947-182">輕鬆地將執行中的 Hyper-V、實體 (預覽)，以及 VMware (預覽) 工作負載移轉至 Azure，以妥善運用雲端的經濟效益和彈性。</span><span class="sxs-lookup"><span data-stu-id="28947-182">Easily migrate running Hyper-V, Physical (in preview), and VMware (in preview) workloads into Azure to leverage the economics and elasticity of the cloud.</span></span>
- <span data-ttu-id="28947-183">在 Azure 中內部部署資產的複寫複本上，執行計算密集型報告或分析，而不會影響生產工作負載。</span><span class="sxs-lookup"><span data-stu-id="28947-183">Run compute intensive reports or analytics on a replicated copy of your on-premises asset in Azure without impacting production workloads.</span></span>
- <span data-ttu-id="28947-184">高載至雲端，並在 Azure 中執行內部部署工作負載，並視需要使用較大的計算範本。</span><span class="sxs-lookup"><span data-stu-id="28947-184">Burst into the cloud and run on-premises workloads in Azure, with larger compute templates when needed.</span></span> <span data-ttu-id="28947-185">混合式的解決方案可在需要時為您提供所需的功能。</span><span class="sxs-lookup"><span data-stu-id="28947-185">Hybrid gives you the power you need, when you need it.</span></span>
- <span data-ttu-id="28947-186">只要點擊幾下，即可在 Azure 中建立多層式開發環境，甚至將即時生產資料複寫到開發/測試環境，讓資料保持近乎即時的同步。</span><span class="sxs-lookup"><span data-stu-id="28947-186">Create multi-tier development environments in Azure with a few clicks–even replicate live production data to your dev/test environment to keep it in near real-time sync.</span></span>

#### <a name="economy-of-cross-cloud-scaling-with-azure-stack-hub"></a><span data-ttu-id="28947-187">透過 Azure Stack Hub 進行跨雲端調整的經濟效益</span><span class="sxs-lookup"><span data-stu-id="28947-187">Economy of cross-cloud scaling with Azure Stack Hub</span></span>

<span data-ttu-id="28947-188">雲端負載平衡的主要優點是經濟實惠。</span><span class="sxs-lookup"><span data-stu-id="28947-188">The key advantage to cloud bursting is economical savings.</span></span> <span data-ttu-id="28947-189">只有在需要這些額外資源時，才需要支付費用。</span><span class="sxs-lookup"><span data-stu-id="28947-189">You only pay for the additional resources when there's a demand for those resources.</span></span> <span data-ttu-id="28947-190">無須再花費在不必要的額外容量，也不必嘗試預測需求尖峰和波動。</span><span class="sxs-lookup"><span data-stu-id="28947-190">No more spending on unnecessary extra capacity or trying to predict demand peaks and fluctuations.</span></span>

#### <a name="reduce-high-demand-loads-into-the-cloud"></a><span data-ttu-id="28947-191">減少載入雲端的高度需求</span><span class="sxs-lookup"><span data-stu-id="28947-191">Reduce high demand loads into the cloud</span></span>

<span data-ttu-id="28947-192">跨雲端調整可以用來分擔處理工作。</span><span class="sxs-lookup"><span data-stu-id="28947-192">Cross-cloud scaling can be used to shoulder processing burdens.</span></span> <span data-ttu-id="28947-193">藉由將基本應用程式移到公用雲端來分配負載，為業務關鍵應用程式釋出本機資源。</span><span class="sxs-lookup"><span data-stu-id="28947-193">Load is distributed by moving basic apps to the public cloud, freeing up local resources for business-critical apps.</span></span> <span data-ttu-id="28947-194">應用程式可以套用到私人雲端，然後只在必須滿足需求時才高載至公用雲端。</span><span class="sxs-lookup"><span data-stu-id="28947-194">An app can be applied to the private cloud, then burst to the public cloud only when necessary to meet demands.</span></span>

### <a name="availability"></a><span data-ttu-id="28947-195">可用性</span><span class="sxs-lookup"><span data-stu-id="28947-195">Availability</span></span>

<span data-ttu-id="28947-196">全域部署也面臨自身的挑戰，例如變動的連線和不同區域的政府法規。</span><span class="sxs-lookup"><span data-stu-id="28947-196">Global deployment has its own challenges, like variable connectivity and differing government regulations by region.</span></span> <span data-ttu-id="28947-197">開發人員只能開發一個應用程式，然後根據不同的原因和需求，部署該應用程式。</span><span class="sxs-lookup"><span data-stu-id="28947-197">Developers can develop just one app and then deploy it across different reasons with different requirements.</span></span> <span data-ttu-id="28947-198">將您的應用程式部署至 Azure 公用雲端，然後在本機部署額外的執行個體或元件。</span><span class="sxs-lookup"><span data-stu-id="28947-198">Deploy your app to the Azure public cloud, then deploy additional instances or components locally.</span></span> <span data-ttu-id="28947-199">您可以使用 Azure 管理所有執行個體之間的流量。</span><span class="sxs-lookup"><span data-stu-id="28947-199">You can manage traffic between all instances using Azure.</span></span>

### <a name="manageability"></a><span data-ttu-id="28947-200">管理能力</span><span class="sxs-lookup"><span data-stu-id="28947-200">Manageability</span></span>

#### <a name="a-single-consistent-development-approach"></a><span data-ttu-id="28947-201">單一、一致的開發方法</span><span class="sxs-lookup"><span data-stu-id="28947-201">A single, consistent development approach</span></span>

<span data-ttu-id="28947-202">Azure 和 Azure Stack Hub 可讓您在整個組織中使用一套一致的開發工具。</span><span class="sxs-lookup"><span data-stu-id="28947-202">Azure and Azure Stack Hub let you use a consistent set of development tools across the organization.</span></span> <span data-ttu-id="28947-203">這種一致性可讓您更輕鬆地執行持續整合和持續開發 (CI/CD)。</span><span class="sxs-lookup"><span data-stu-id="28947-203">This consistency makes it easier to implement a practice of continuous integration and continuous development (CI/CD).</span></span> <span data-ttu-id="28947-204">部署在 Azure 或 Azure Stack Hub 中的許多應用程式和服務可以互換，並可在任一位置順暢地執行。</span><span class="sxs-lookup"><span data-stu-id="28947-204">Many apps and services deployed in Azure or Azure Stack Hub are interchangeable and can run in either location seamlessly.</span></span>

<span data-ttu-id="28947-205">混合式 CI/CD 管線有助於：</span><span class="sxs-lookup"><span data-stu-id="28947-205">A hybrid CI/CD pipeline can help you:</span></span>

- <span data-ttu-id="28947-206">根據程式碼存放庫認可的程式碼起始新的組建。</span><span class="sxs-lookup"><span data-stu-id="28947-206">Initiate a new build based on code commits to your code repository.</span></span>
- <span data-ttu-id="28947-207">自動將您新建置的程式碼部署至 Azure 以進行使用者驗收測試。</span><span class="sxs-lookup"><span data-stu-id="28947-207">Automatically deploy your newly built code to Azure for user acceptance testing.</span></span>
- <span data-ttu-id="28947-208">一旦您的程式碼已通過測試，便會自動部署至 Azure Stack Hub。</span><span class="sxs-lookup"><span data-stu-id="28947-208">Once your code has passed testing, automatically deploy to Azure Stack Hub.</span></span>

### <a name="a-single-consistent-identity-management-solution"></a><span data-ttu-id="28947-209">單一、一致的身分識別管理解決方案</span><span class="sxs-lookup"><span data-stu-id="28947-209">A single, consistent identity management solution</span></span>

<span data-ttu-id="28947-210">Azure Stack Hub 可與 Azure Active Directory (Azure AD) 和 Active Directory 同盟服務 (ADFS) 一起使用。</span><span class="sxs-lookup"><span data-stu-id="28947-210">Azure Stack Hub works with both Azure Active Directory (Azure AD) and Active Directory Federation Services (ADFS).</span></span> <span data-ttu-id="28947-211">在連線的情況下，Azure Stack Hub 可與 Azure AD 一起使用。</span><span class="sxs-lookup"><span data-stu-id="28947-211">Azure Stack Hub works with Azure AD in connected scenarios.</span></span> <span data-ttu-id="28947-212">針對沒有連線能力的環境，您可以使用 ADFS 做為中斷連線時的解決方案。</span><span class="sxs-lookup"><span data-stu-id="28947-212">For environments that don't have connectivity, you can use ADFS as a disconnected solution.</span></span> <span data-ttu-id="28947-213">服務主體可用來授與應用程式的存取權，使其可透過 Azure Resource Manager 部署或設定資源。</span><span class="sxs-lookup"><span data-stu-id="28947-213">Service principals are used to grant access to apps, allowing them to deploy or configure resources through Azure Resource Manager.</span></span>

### <a name="security"></a><span data-ttu-id="28947-214">安全性</span><span class="sxs-lookup"><span data-stu-id="28947-214">Security</span></span>

#### <a name="ensure-compliance-and-data-sovereignty"></a><span data-ttu-id="28947-215">確保合規性和資料主權</span><span class="sxs-lookup"><span data-stu-id="28947-215">Ensure compliance, and data sovereignty</span></span>

<span data-ttu-id="28947-216">Azure Stack Hub 可讓您在多個國家/地區執行相同的服務，就像使用公用雲端一樣。</span><span class="sxs-lookup"><span data-stu-id="28947-216">Azure Stack Hub lets you run the same service across multiple countries as you would if using a public cloud.</span></span> <span data-ttu-id="28947-217">在每個國家/地區的資料中心部署相同的應用程式，可符合資料主權需求。</span><span class="sxs-lookup"><span data-stu-id="28947-217">Deploying the same app in datacenters in each country allows data sovereignty requirements to be met.</span></span> <span data-ttu-id="28947-218">這項功能可確保個人資料保留在每個國家/地區的邊界內。</span><span class="sxs-lookup"><span data-stu-id="28947-218">This capability ensures personal data is kept within each country's borders.</span></span>

#### <a name="azure-stack-hub---security-posture"></a><span data-ttu-id="28947-219">Azure Stack Hub - 安全性狀態</span><span class="sxs-lookup"><span data-stu-id="28947-219">Azure Stack Hub - security posture</span></span>

<span data-ttu-id="28947-220">安全性狀態來自於穩定、持續的服務處理程序。</span><span class="sxs-lookup"><span data-stu-id="28947-220">There's no security posture without a solid, continuous servicing process.</span></span> <span data-ttu-id="28947-221">因此，Microsoft 投資一個協調流程引擎，可在整個基礎結構中順暢地套用修補程式和更新。</span><span class="sxs-lookup"><span data-stu-id="28947-221">For this reason, Microsoft invested in an orchestration engine that applies patches and updates seamlessly across the entire infrastructure.</span></span>

<span data-ttu-id="28947-222">由於與 Azure Stack Hub OEM 夥伴建立了合作關係，Microsoft 得以將相同的安全性狀態擴充到 OEM 特定元件，例如硬體生命週期主機及其上執行的軟體。</span><span class="sxs-lookup"><span data-stu-id="28947-222">Thanks to partnerships with Azure Stack Hub OEM partners, Microsoft extends the same security posture to OEM-specific components, like the Hardware Lifecycle Host and the software running on top of it.</span></span> <span data-ttu-id="28947-223">這種合作關係可確保 Azure Stack Hub 在整個基礎結構上具有一致且穩固的安全性狀態。</span><span class="sxs-lookup"><span data-stu-id="28947-223">This partnership ensures Azure Stack Hub has a uniform, solid security posture across the entire infrastructure.</span></span> <span data-ttu-id="28947-224">接著，客戶可以建立並保護其應用程式工作負載。</span><span class="sxs-lookup"><span data-stu-id="28947-224">In turn, customers can build and secure their app workloads.</span></span>

#### <a name="use-of-service-principals-via-powershell-cli-and-azure-portal"></a><span data-ttu-id="28947-225">透過 PowerShell、CLI 和 Azure 入口網站來使用服務主體</span><span class="sxs-lookup"><span data-stu-id="28947-225">Use of service principals via PowerShell, CLI, and Azure portal</span></span>

<span data-ttu-id="28947-226">若要為資源提供指令碼或應用程式的存取權，請設定應用程式的身分識別，並使用應用程式本身的認證進行驗證。</span><span class="sxs-lookup"><span data-stu-id="28947-226">To give resource access to a script or app, set up an identity for your app and authenticate the app with its own credentials.</span></span> <span data-ttu-id="28947-227">此身分識別就是所謂的服務主體，可讓您：</span><span class="sxs-lookup"><span data-stu-id="28947-227">This identity is known as a service principal and lets you:</span></span>

- <span data-ttu-id="28947-228">對應用程式身分識別指派不同於您本身權限的權限，並且僅限於該應用程式的需求。</span><span class="sxs-lookup"><span data-stu-id="28947-228">Assign permissions to the app identity that are different than your own permissions and are restricted to precisely the app's needs.</span></span>
- <span data-ttu-id="28947-229">使用憑證在執行無人看管的指令碼時進行驗證。</span><span class="sxs-lookup"><span data-stu-id="28947-229">Use a certificate for authentication when executing an unattended script.</span></span>

<span data-ttu-id="28947-230">如需關於服務主體建立，以及將憑證用於認證的詳細資訊，請參閱[使用應用程式身分識別以存取資源](/azure-stack/operator/azure-stack-create-service-principals)。</span><span class="sxs-lookup"><span data-stu-id="28947-230">For more information about service principal creation and using a certificate for credentials, see [Use an app identity to access resources](/azure-stack/operator/azure-stack-create-service-principals).</span></span>

## <a name="when-to-use-this-pattern"></a><span data-ttu-id="28947-231">使用此模式的時機</span><span class="sxs-lookup"><span data-stu-id="28947-231">When to use this pattern</span></span>

- <span data-ttu-id="28947-232">我的組織使用 DevOps 方法，或具有一個打算在不久的將來使用的方法。</span><span class="sxs-lookup"><span data-stu-id="28947-232">My organization is using a DevOps approach, or has one planned for the near future.</span></span>
- <span data-ttu-id="28947-233">我想要跨 Azure Stack Hub 實作和公用雲端來實作 CI/CD 做法。</span><span class="sxs-lookup"><span data-stu-id="28947-233">I want to implement CI/CD practices across my Azure Stack Hub implementation and the public cloud.</span></span>
- <span data-ttu-id="28947-234">我想要跨雲端和內部部署環境來合併 CI/CD 管線。</span><span class="sxs-lookup"><span data-stu-id="28947-234">I want to consolidate the CI/CD pipeline across cloud and on-premises environments.</span></span>
- <span data-ttu-id="28947-235">我想要能夠使用雲端或內部部署服務順暢地開發應用程式。</span><span class="sxs-lookup"><span data-stu-id="28947-235">I want the ability to develop apps seamlessly using cloud or on-premises services.</span></span>
- <span data-ttu-id="28947-236">我想要跨雲端和內部部署應用程式來運用一致的開發人員技能。</span><span class="sxs-lookup"><span data-stu-id="28947-236">I want to leverage consistent developer skills across cloud and on-premises apps.</span></span>
- <span data-ttu-id="28947-237">我使用 Azure，但是我的開發人員是在內部部署 Azure Stack Hub 雲端中工作。</span><span class="sxs-lookup"><span data-stu-id="28947-237">I'm using Azure but I have developers who are working in an on-premises Azure Stack Hub cloud.</span></span>
- <span data-ttu-id="28947-238">我的內部部署應用程式在季節性、週期性或無法預測的波動期間，會遇到需求高峰。</span><span class="sxs-lookup"><span data-stu-id="28947-238">My on-premises apps experience spikes in demand during seasonal, cyclical, or unpredictable fluctuations.</span></span>
- <span data-ttu-id="28947-239">我有內部部署元件，而我想要使用雲端順暢地進行調整。</span><span class="sxs-lookup"><span data-stu-id="28947-239">I have on-premises components and I want to use the cloud to scale them seamlessly.</span></span>
- <span data-ttu-id="28947-240">我想要雲端延展性，但我想要讓應用程式盡可能地執行內部部署。</span><span class="sxs-lookup"><span data-stu-id="28947-240">I want cloud scalability but I want my app to run on-premises as much as possible.</span></span>

## <a name="next-steps"></a><span data-ttu-id="28947-241">後續步驟</span><span class="sxs-lookup"><span data-stu-id="28947-241">Next steps</span></span>

<span data-ttu-id="28947-242">深入了解此文章介紹的更多相關主題：</span><span class="sxs-lookup"><span data-stu-id="28947-242">To learn more about topics introduced in this article:</span></span>

- <span data-ttu-id="28947-243">觀看[資料中心和公用雲端之間的動態調整應用程式](https://www.youtube.com/watch?v=2lw8zOpJTn0)，以了解如何使用此模式。</span><span class="sxs-lookup"><span data-stu-id="28947-243">Watch [Dynamically scale apps between datacenters and public cloud](https://www.youtube.com/watch?v=2lw8zOpJTn0) for an overview of how this pattern is used.</span></span>
- <span data-ttu-id="28947-244">若要深入了解最佳做法並解答您可能遇到的其他問題，請參閱[混合式應用程式設計考量](overview-app-design-considerations.md)。</span><span class="sxs-lookup"><span data-stu-id="28947-244">See [Hybrid app design considerations](overview-app-design-considerations.md) to learn more about best practices and to answer additional questions you might have.</span></span>
- <span data-ttu-id="28947-245">此模式會使用 Azure Stack 系列產品，包括 Azure Stack Hub。</span><span class="sxs-lookup"><span data-stu-id="28947-245">This pattern uses the Azure Stack family of products, including Azure Stack Hub.</span></span> <span data-ttu-id="28947-246">若要深入了解產品與解決方案的完整組合，請參閱 [Azure Stack 系列產品和解決方案](/azure-stack)。</span><span class="sxs-lookup"><span data-stu-id="28947-246">See the [Azure Stack family of products and solutions](/azure-stack) to learn more about the entire portfolio of products and solutions.</span></span>

<span data-ttu-id="28947-247">當您準備好測試解決方案範例時，請繼續參閱[跨雲端調整 (內部部署資料) 解決方案部署指南](solution-deployment-guide-cross-cloud-scaling-onprem-data.md)。</span><span class="sxs-lookup"><span data-stu-id="28947-247">When you're ready to test the solution example, continue with the [cross-cloud scaling (on-premises data) solution deployment guide](solution-deployment-guide-cross-cloud-scaling-onprem-data.md).</span></span> <span data-ttu-id="28947-248">部署指南提供部署及測試其元件的逐步指示。</span><span class="sxs-lookup"><span data-stu-id="28947-248">The deployment guide provides step-by-step instructions for deploying and testing its components.</span></span>
